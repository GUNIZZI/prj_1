"use strict";(self["webpackChunk_cjmia_dashboard"]=self["webpackChunk_cjmia_dashboard"]||[]).push([[931],{4798:function(t,e,s){s.d(e,{Z:function(){return d}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"ui_box",class:{"is-edit":t.edit}},[e("div",{staticClass:"header"},[e("div",{staticClass:"wrap"},[t._t("title"),t.useFold?e("div",{staticClass:"rc_wrap"},[e("button",{staticClass:"ui_btn is-icon-only",on:{click:function(e){t.isFold=!t.isFold}}},[t.isFold?e("span",{staticClass:"icon"},[t._v("")]):e("span",{staticClass:"icon"},[t._v("")])])]):t._e()],2)]),e("div",{staticClass:"content",class:{"is-fold":t.isFold}},[t.useFold&&t.isFold?e("span",[t._v("확장해서 사용 가능")]):t._t("content")],2)])},a=[],r=s(3290),n={name:"comp-aside-box",components:{ExceptKeyword:r["default"]},data(){return{isFold:!1}},props:{edit:{type:Boolean,default:!1},useFold:{type:Boolean,default:!1}},computed:{},methods:{triggerExpandBox(){this.isFold=!this.isFold&&this.isFold}}},o=n,l=s(3483),c=(0,l.Z)(o,i,a,!1,null,"92f5a8de",null),d=c.exports},119:function(t,e,s){s.d(e,{Z:function(){return d}});var i=function(){var t=this,e=t._self._c;return e("comp-filter-grp",{attrs:{pos:t.getType.pos,disableConfirmBtn:t.getCompareDatas,confirmLabel:t.getType.confirmLabel,popoverLabel:t.getType.name},on:{confirm:t.evt_confirm,cancel:t.evt_cancel},scopedSlots:t._u([{key:"custom",fn:function(){return["add"==t.type?e("comp-button",{staticClass:"is-icon-with is-before is-large",attrs:{title:"카테고리 추가"}},[e("span",{staticClass:"icon"},[t._v("")]),e("span",{staticClass:"txt"},[t._v("카테고리 추가")])]):e("comp-button",{staticClass:"is-icon-only is-xsmall",attrs:{title:"카테고리 수정"}},[e("span",{staticClass:"icon"},[t._v("")])])]},proxy:!0},{key:"items",fn:function(){return[e("dl",[e("dt",[e("strong",[t._v("이름")])]),e("dd",[e("comp-input-box",{ref:"inputBox",staticClass:"is-small",staticStyle:{width:"150px"},attrs:{placeholder:"키워드 입력"},model:{value:t.category.name,callback:function(e){t.$set(t.category,"name",e)},expression:"category.name"}})],1)])]},proxy:!0}])})},a=[],r=s(7761),n={name:"comp-category-add-mdfy",data(){return{loading:!1,setting:{permissionOpts:[{code:"i",name:"추가"},{code:"u",name:"수정"},{code:"d",name:"삭제"}]},category:{name:"",permission:""}}},components:{},props:{id:{},type:{},item:{}},computed:{getType(){return{name:"mdfy"==this.type?"카테고리 수정":"카테고리 추가",label:"mdfy"==this.type?"&#xe057":"&#xe017;",pos:"mdfy"==this.type?"BL":"OR",confirmLabel:"mdfy"==this.type?"적용":"추가"}},getTitle(){return this.item?.name||"카테고리명 없음"},getCompareDatas(){return"add"==this.type?0==this.category.name.trim().length:(0,r.isEqual)(this.item,this.category)}},watch:{item:{deep:!0,immediate:!0,handler(t){"mdfy"==this.type&&(this.category=JSON.parse(JSON.stringify(t)))}}},methods:{async evt_confirm(){"add"==this.type&&(this.$emit("categoryAdd",this.category),this.category={name:"",permission:""}),"mdfy"==this.type&&(this.$emit("categoryMdfy",(0,r.merge)(this.item,this.category)),this.category=JSON.parse(JSON.stringify(this.item)))},evt_cancel(){"mdfy"==this.type?this.category=JSON.parse(JSON.stringify(this.item)):this.category={name:"",permission:""}}}},o=n,l=s(3483),c=(0,l.Z)(o,i,a,!1,null,"141e6760",null),d=c.exports},8501:function(t,e,s){s.d(e,{Z:function(){return d}});var i=function(){var t=this,e=t._self._c;return e("comp-filter-grp",{ref:"filterGrp",staticClass:"common_codes_filtergrp",class:[t.getType.class,{"is-expanded":t.isOpen}],attrs:{pos:t.getType.pos,disableConfirmBtn:t.getCompareDatas,popoverLabel:t.getType.name},on:{confirm:t.evt_confirm,cancel:t.evt_cancel,open:function(e){return t.evt_expanded(!0)},close:function(e){return t.evt_expanded(!1)}},scopedSlots:t._u([{key:"custom",fn:function(){return["add"==t.type?[e("comp-button",{staticClass:"is-icon-only",class:t.isRecursive?"is-small":"is-xsmall",attrs:{title:t.getType.name}},[e("span",{staticClass:"icon",domProps:{innerHTML:t._s(t.getType.label)}})])]:[t._v(" "+t._s(t.getTitle)+" "),e("comp-item-add-mdfy",{ref:"filterGrp2nd",staticClass:"btn-item-add",attrs:{isRecursive:!1,type:"add"},on:{secondGrpExpanded:t.evt_secondGrpExpanded,itemAdd:t.evt_2ndItemAdd}}),e("comp-button",{staticClass:"is-xsmall is-icon-only btn-item-remove",attrs:{title:"삭제"},on:{click:function(e){return e.stopPropagation(),t.evt_itemRemove.apply(null,arguments)}}},[e("span",{staticClass:"icon"},[t._v("")])]),t.getItem.color?.trim()?.length?e("span",{staticClass:"colors",style:`--color: ${t.getItem.color}`}):t._e()]]},proxy:!0},{key:"items",fn:function(){return[e("dl",[e("dt",[e("strong",[t._v("이름")])]),e("dd",[e("comp-input-box",{ref:"inputBox",staticClass:"is-small",staticStyle:{width:"220px"},attrs:{placeholder:"키워드 입력"},model:{value:t.category.name,callback:function(e){t.$set(t.category,"name",e)},expression:"category.name"}})],1)]),e("dl",[e("dt",[e("strong",[t._v("색상")])]),e("dd",[e("comp-colorpicker",{staticClass:"is-small",attrs:{useConfirm:!1,useReset:!0,pos:"BL"},model:{value:t.category.color,callback:function(e){t.$set(t.category,"color",e)},expression:"category.color"}})],1)])]},proxy:!0}])})},a=[],r=s(7761),n={name:"comp-item-add-mdfy",data(){return{loading:!1,setting:{permissionOpts:[{code:"i",name:"추가"},{code:"u",name:"수정"},{code:"d",name:"삭제"}]},category:{name:"",color:""},isOpen:!1}},components:{},props:{isRecursive:{type:Boolean,default:!0},type:{type:String,default:"mdfy"},item:{type:Object},value:{}},computed:{getItem(){return this.value?this.value:this.item},getType(){return{name:"mdfy"==this.type?"아이템 수정":"아이템 추가",class:"mdfy"==this.type?"btn-item-mdfy":"btn-item-add",label:"mdfy"==this.type?"&#xe057":"&#xe017;",pos:"mdfy"==this.type?"BL":"BR"}},getTitle(){return this.getItem?.name||"아이템명 없음"},getCompareDatas(){return"add"==this.type?0==this.category.name.trim().length:(0,r.isEqual)(this.getItem,this.category)}},watch:{getItem:{deep:!0,immediate:!0,handler(t){"mdfy"==this.type&&(this.category=JSON.parse(JSON.stringify(t)))}}},methods:{async evt_confirm(){"add"==this.type&&(this.$emit("itemAdd",this.category),this.category={name:"",permission:""}),"mdfy"==this.type&&(this.$emit("itemMdfy",(0,r.merge)(this.getItem,this.category)),this.category=JSON.parse(JSON.stringify(this.getItem)))},evt_cancel(){"mdfy"==this.type?this.category=JSON.parse(JSON.stringify(this.getItem)):this.category={name:"",permission:""}},evt_itemRemove(){this.$refs.filterGrp.Set_Expanded(!1),this.$emit("itemRemove",this.getItem)},evt_2ndItemAdd(t){this.$emit("itemAdd",{type:"i",level:2,cmm_type:this.getItem.cmm_type,code:this.getItem.code,name:t.name,color:t.color})},evt_expanded(t){this.isRecursive?this.evt_firstGrpExpanded(t):this.$emit("secondGrpExpanded",t)},evt_firstGrpExpanded(t){t&&this.$refs?.filterGrp2nd?.$refs?.filterGrp?.Set_Expanded(!1)},evt_secondGrpExpanded(t){this.isOpen=t,t&&this.$refs?.filterGrp?.Set_Expanded(!1)}}},o=n,l=s(3483),c=(0,l.Z)(o,i,a,!1,null,null,null),d=c.exports},8813:function(t,e,s){s.d(e,{Z:function(){return h}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"category ui-loader-container",class:{"is-loading":t.loading}},[e("div",{staticClass:"header"},[e("h3",[t._v(t._s(t.getTitle))]),e("CompCategoryMdfy",{attrs:{item:t.item,id:`category_mdfy_${t.item.code}`,type:"mdfy"},on:{categoryMdfy:t.evt_categoryMdfy}}),e("comp-button",{staticClass:"is-icon-only is-xsmall",attrs:{title:"카테고리 삭제"},on:{click:t.evt_categoryRemove}},[e("span",{staticClass:"icon"},[t._v("")])]),e("CompItemAddMdfy",{attrs:{id:`category_add_${t.item.code}`,type:"add"},on:{itemAdd:t.evt_itemAdd}})],1),e("comp-list",{staticClass:"list list_wrap",scopedSlots:t._u([{key:"default",fn:function(){return t._l(t.getItemList,(function(s){return e("CompItemAddMdfy",{key:s.seq,staticClass:"is-draggable",class:`item_lv_${s.use_level}`,attrs:{id:`category_mdfy_${s.code}`,type:"mdfy",item:s},on:{itemMdfy:t.evt_itemMdfy,itemRemove:t.evt_itemRemove,itemAdd:t.evt_itemAdd2nd}})}))},proxy:!0}])})],1)},a=[],r=s(7761),n=s(5846),o=s(119),l=s(8501),c=s(8482),d={name:"comp-admin-common-category",data(){return{loading:!1,compItemAddMdfy:l.Z}},components:{CompCategoryMdfy:o.Z,CompItemAddMdfy:l.Z},props:{item:{}},computed:{getTitle(){return this.item?.name||"카테고리명 없음"},getCompareDatas(){return(0,r.isEqual)(this.item,this.category)},getMdfySet(){return{type:"mdfy",name:"카테고리 수정",label:"&#xe057;"}},getAddSet(){return{type:"add",name:"카테고리 추가",label:"&#xe057;"}},getItemList(){const t=this.item?.children?.flatten();return t}},created(){},mounted(){},watch:{item:{deep:!0,immediate:!0,handler(t){const e=JSON.parse(JSON.stringify(t));e.permission="",this.category=e}}},methods:{async fetchCategory(){this.loading=!0,await this.$store.dispatch("opts/ATTRS",{cmm_type:this.item.code}).then((t=>{t.data?.result?.list[0]&&this.$emit("update:item",t.data?.result?.list[0])})).catch((t=>{this.$store.dispatch("DIALOG_ERR",["카테고리 데이터를 갱신하지 못했습니다.<br>확인을 누르시면 새로고침 됩니다.<br>문제가 지속 될 경우 관리자에게 문의하세요.","갱신 실패",0]).then((t=>{location.reload()}))})).finally((()=>{this.loading=!1}))},async updateItem(t){this.loading=!0,await(0,c.a)(this.apiUID_category_update,t).catch((()=>{this.$store.dispatch("NOTY_ERR","아이템 추가에 실패 했습니다.")})).finally((()=>{this.loading=!1,this.fetchCategory()}))},evt_categoryMdfy(t){this.$emit("categoryMdfy",t)},evt_categoryRemove(){this.$store.dispatch("DIALOG_WRN",[`카테고리 삭제 시, 하위 아이템이 모두 삭제되며,<br> 시스템에 큰 영향을 줄 수 있습니다.<br><br><strong>[${this.item.name}]</strong> 카테고리를 삭제하시겠습니까?`,"카테고리 삭제",2]).then((()=>{this.$emit("categoryRemove",this.item)}))},evt_itemAdd(t){this.updateItem({cmm_type:this.item.code,type:"i",level:2,name:t.name,color:t.color||""})},evt_itemAdd2nd(t){this.updateItem(t)},evt_itemMdfy(t){this.updateItem({type:"u",level:1,name:t.name,color:t.color||"",seq:t.seq})},evt_itemRemove(t){this.$store.dispatch("DIALOG_WRN",[`아이템 삭제 시, 시스템에 큰 영향을 줄 수 있습니다.<br><br><strong>[${t.name}]</strong> 아이템을 삭제하시겠습니까?`,"아이템 삭제",2]).then((()=>{const e=[(0,n.Ai)(this.item,{seq:t.seq})].flatten().arrObjAttrToStr("seq");this.updateItem({type:"d",level:2,seq:e})})).catch((()=>{}))}}},p=d,u=s(3483),m=(0,u.Z)(p,i,a,!1,null,"7700214e",null),h=m.exports},8864:function(t,e,s){s.r(e),s.d(e,{default:function(){return h}});var i=function(){var t=this,e=t._self._c;return e("AsideBox",[e("template",{slot:"title"},[e("h3",[t._v(" 키워드 "+t._s(t.isEdit?"수정":"등록")+" "),t.isEdit?e("comp-button",{staticClass:"is-small",on:{click:t.changeToRegist}},[e("span",[t._v("키워드 등록")])]):t._e()],1)]),e("template",{slot:"content"},[e("comp-switch-btn",{staticClass:"is-xsmall",attrs:{id:"aside_disble_switch",label:"사용여부"},on:{click:t.updateKeyword},model:{value:t.inputKeyword.active,callback:function(e){t.$set(t.inputKeyword,"active",e)},expression:"inputKeyword.active"}}),t.isEdit?[e("ul",{staticClass:"edit_box"},[e("li",{staticClass:"name"},[e("span",{staticClass:"ui_fc_dm"},[t._v(t._s(t.xpName)+" "),e("span",{staticClass:"ui_icon"},[t._v("")]),t._v(" "+t._s(t.getCategoryName))]),e("strong",{domProps:{innerHTML:t._s(t.parseKeywordName(t.inputKeyword.name))}})]),e("li",[e("strong",[t._v("채널")]),e("span",[t._v(t._s(t.parseSgCodeToName))])]),e("li",[e("strong",[t._v("검색영역")]),e("span",[t._v(t._s(t.parseTsCodeToName))])]),e("li",[e("strong",[t._v("특수문자")]),e("span",[t._v(t._s(t.parseTscCodeToName))])]),e("li",[e("strong",[t._v("종류")]),e("span",[t._v(" "+t._s(t.parseOpCodeToName)+" "),3===t.inputKeyword.op?[t._v(" ("+t._s(t.inputKeyword.op_len_before)+", "+t._s(t.inputKeyword.op_len_after)+") ")]:t._e()],2)])])]:[e("comp-selectbox",{staticClass:"is-small",staticStyle:{width:"100%"},attrs:{id:"category_select",opts:t.categoryList,notSelectedLabel:"카테고리를 선택하세요",disabled:!t.inputKeyword.use_yn||t.isEdit||1!=t.selectedGrp?.level},model:{value:t.inputKeyword.yp,callback:function(e){t.$set(t.inputKeyword,"yp",e)},expression:"inputKeyword.yp"}}),e("KeywordInput",{attrs:{id:"keyword_input",inputKeyword:t.inputKeyword,isEdit:t.isEdit,availableSgGrp:t.selectedGrp?.sg_seqs,useSgGrp:""},on:{"update:inputKeyword":function(e){t.inputKeyword=e},"update:input-keyword":function(e){t.inputKeyword=e}}})],e("ExceptKeyword",{ref:"exceptKeyword",attrs:{id:"exceptkeyword_"+(t.isEdit?"edit":"regist"),exceptList:t.exceptList,inputKeyword:t.inputKeyword,isEdit:t.isEdit},on:{"update:exceptList":function(e){t.exceptList=e},"update:except-list":function(e){t.exceptList=e},resetKeyword:t.resetKeyword}}),e("div",{staticClass:"btn_box"},[t.isEdit?[e("comp-button",{staticClass:"is-color-hl is-large",on:{click:t.deleteKeyword}},[e("span",[t._v("삭제")])])]:[e("comp-button",{staticClass:"is-large",on:{click:t.resetKeyword}},[e("span",[t._v("초기화")])]),e("comp-button",{staticClass:"is-color-hl is-large",attrs:{disabled:t.isDisabled},on:{click:t.saveKeyword}},[e("span",[t._v("저장")])])]],2)],2)],2)},a=[],r=(s(823),s(5791),s(8194)),n=s(7693),o=s(4798),l=s(9153),c=s(3290),d={name:"comp-aside-keywords",components:{AsideBox:o.Z,KeywordInput:l["default"],ExceptKeyword:c["default"]},data(){return{loading:!1,isFold:!1,inputKeyword:{}}},props:{edit:{type:Boolean,default:!1},useFold:{type:Boolean,default:!0},editKeyword:{type:Object},selectedGrp:{type:Object},categoryList:{type:Array},xpName:{type:String}},computed:{...(0,r.Se)(["getSgSeqs","getOpOpts","getTsOpts","getTscOpts","getUseYNOpts"]),isDisabled(){const t=this.inputKeyword.name.trim().replaceAll(/\s+(?=\s)|\n+(?=\s)|\s+(?=\n)|\n+(?=\n)/g,"");return t.length<=0||!this.inputKeyword.yp||!this.inputKeyword.sg_seqs.length},isEdit(){return Object.keys(this.getEditKeyword).length>0},getInit(){const t={k_seq:"",name:"",op:1,op_len_before:15,op_len_after:15,ts:1,tsc:2,use_yn:"Y",active:!0,sg_seqs:"",expt_keywords:[]};return this.selectedGrp&&(t["xp"]=this.selectedGrp["xp"],t["yp"]=this.selectedGrp["yp"],t["zp"]=this.selectedGrp["zp"]),t.sg_seqs=this.getSgOpts.filter((t=>!t.disabled)).arrObjAttrToStr("code"),t},getSgOpts(){const t=this.selectedGrp?.sg_seqs?this.selectedGrp.sg_seqs.split(","):[],e=this.getSgSeqs.map((e=>{const s=structuredClone(e);return s.disabled=!t.includes(String(e.code)),s}));return e},getEditKeyword:{get(){return this.editKeyword},set(t){this.$emit("update:editKeyword",structuredClone(t))}},exceptList:{get(){return this.inputKeyword.expt_keywords},set(t){this.$emit("updateExceptKeyword",t)}},getCategoryName(){return this.categoryList.getParseDatas({code:this.inputKeyword.yp})[0]?.name},parseSgCodeToName(){const t=this.inputKeyword.sg_seqs.split(",").map((t=>Number(t))),e=this.getSgSeqs.filter((e=>t.includes(e.code))).arrObjAttrToStr("name","");return e},parseOpCodeToName(){const t=this.getOpOpts.getParseDatas({code:this.inputKeyword.op}).arrObjAttrToStr("name");return t},parseTsCodeToName(){const t=this.getTsOpts.getParseDatas({code:this.inputKeyword.ts}).arrObjAttrToStr("name");return t},parseTscCodeToName(){const t=this.getTscOpts.getParseDatas({code:this.inputKeyword.tsc}).arrObjAttrToStr("name");return t}},watch:{editKeyword:{deep:!0,handler(t,e){if(Object.keys(t).length){const s=structuredClone(e),i=structuredClone(t);if(delete s.expt_keywords,delete i.expt_keywords,JSON.stringify(s)===JSON.stringify(i))return;this.inputKeyword=structuredClone(t)}else this.inputKeyword=structuredClone(this.getInit)}},"inputKeyword.active"(t){const e=structuredClone(this.inputKeyword);e.use_yn=t?"Y":"N",this.inputKeyword=e},selectedGrp:{deep:!0,handler(){this.isEdit?this.inputKeyword=structuredClone(this.getEditKeyword):this.inputKeyword=structuredClone(this.getInit)}}},created(){this.inputKeyword=structuredClone(this.getInit)},methods:{parseKeywordName:n.e_,triggerExpandBox(){this.isFold=!this.isFold&&this.isFold},saveKeyword(){this.$emit("registKeyword",this.inputKeyword)},deleteKeyword(){const t={k_seq:this.inputKeyword.k_seq};this.exceptList.length&&(t.expt_k_seq=this.exceptList.arrObjAttrToStr("k_seq")),this.$emit("deleteKeyword",t)},async resetKeyword(t){this.isEdit?this.inputKeyword=structuredClone(this.getEditKeyword):(Array.isArray(t)&&await new Promise((e=>{this.$refs.exceptKeyword.registExceptKeywordList(t).then((()=>e()))})),this.inputKeyword=structuredClone(this.getInit))},updateKeyword(){this.isEdit&&this.$emit("updateKeyword",this.inputKeyword)},changeToRegist(){this.getEditKeyword={}}}},p=d,u=s(3483),m=(0,u.Z)(p,i,a,!1,null,"2dcbd9a2",null),h=m.exports},3431:function(t,e,s){s.r(e),s.d(e,{default:function(){return h}});var i=function(){var t=this,e=t._self._c;return e("comp-filter-grp",{attrs:{pos:"L",disableConfirmBtn:t.disableConfirmBtn},on:{confirm:t.updateExceptKeyword,cancel:t.resetEditKeyword},scopedSlots:t._u([{key:"custom",fn:function(){return[e("comp-switch-btn",{staticClass:"is-xxsmall",attrs:{id:`except_switch_${t.source.k_seq}`},model:{value:t.isActive,callback:function(e){t.isActive=e},expression:"isActive"}}),e("div",{staticClass:"exceptKeyword_infos ui-ellipsis",on:{click:t.clickKeyword}},[e("span",{staticClass:"ui-ellipsis",domProps:{innerHTML:t._s(t.parseKeywordName(t.source.name))}}),e("span",{staticClass:"ui_fc_dm2",attrs:{title:t.getOperatorTitle}},[e("span",{staticClass:"is-color-dims",class:[{ui_bedge:1===t.source.tsc},{"is-rect":1===t.source.tsc}]},[1===t.source.tsc?e("span",{staticClass:"icon",attrs:{title:"특수문자포함"}},[t._v("I")]):t._e()]),e("span",{staticClass:"ui_bedge is-rect is-color-dims"},[e("span",{staticClass:"icon"},[t._v(t._s(t.parseTsCodeToName()))])]),e("span",{staticClass:"ui_bedge is-rect is-color-dims"},[e("span",{staticClass:"icon"},[t._v(t._s(t.parseOpCodeToName()))])])])]),e("comp-button",{staticClass:"is-xsmall is-icon-only",on:{click:t.deleteKeyword}},[e("span",{staticClass:"icon"},[t._v("")])])]},proxy:!0},{key:"items",fn:function(){return[e("div",{staticClass:"exceptKeyword_edit_box"},[e("KeywordInput",{attrs:{id:`exceptkeyword_edit_${t.source.k_seq}`,inputKeyword:t.editKeyword,isEdit:""},on:{"update:inputKeyword":function(e){t.editKeyword=e},"update:input-keyword":function(e){t.editKeyword=e}}})],1)]},proxy:!0}])})},a=[],r=(s(823),s(5791),s(9362)),n=s(8194),o=s(7693),l=s(329),c=s(9153),d={name:"comp-filter-grp-item",components:{KeywordInput:c["default"]},data(){return{apiUID:r.V.v4(),editKeyword:{},disableConfirmBtn:!0}},props:{source:{type:Object},clickExceptKeyword:{type:Function},updateKeyword:{type:Function},checkedItem:{type:Object}},computed:{...(0,n.Se)(["getSgSeqs","getOpOpts","getTsOpts","getTscOpts","getUseYNOpts"]),isActive:{get(){return"Y"===this.source.use_yn},set(){this.updateUseYN()}},getOperatorTitle(){const t=this.getTsOpts.getParseDatas({code:this.source.ts}).arrObjAttrToStr("name"),e=this.getTscOpts.getParseDatas({code:this.source.tsc}).arrObjAttrToStr("name"),s=this.getOpOpts.getParseDatas({code:this.source.op}).arrObjAttrToStr("name");let i=`${e}, ${t}, ${s}`;return"인접"===s&&(i+=`(${this.source.op_len_before}, ${this.source.op_len_after})`),i}},watch:{source:{deep:!0,handler(){this.resetEditKeyword()}},"editKeyword.name"(t){this.disableConfirmBtn=!t}},created(){this.resetEditKeyword()},mounted(){},methods:{parseKeywordName:o.e_,resetEditKeyword(){this.editKeyword=structuredClone(this.source)},clickKeyword(){this.clickExceptKeyword(this.source)},parseOpCodeToName(){switch(this.getOpOpts.getParseDatas({code:this.source.op}).arrObjAttrToStr("name")){case"일반":return"A";case"구문":return"P";case"인접":return`N (${this.source.op_len_before}, ${this.source.op_len_after})`}},parseTsCodeToName(){switch(this.getTsOpts.getParseDatas({code:this.source.ts}).arrObjAttrToStr("name")){case"제목":return"T";case"내용":return"C";case"메뉴명":return"M";default:return"TC"}},async updateExceptKeyword(){const t={level:4,type:"u",...this.editKeyword};await(0,l.M)(this.apiUID,t).then((()=>{this.updateKeyword(this.editKeyword),this.$store.dispatch("NOTY_COM","제외키워드 수정을 성공했습니다.")})).catch((t=>{this.$store.dispatch("NOTY_ERR",t?.data?.result?.err)}))},async updateUseYN(){const t={...this.source,use_yn:this.isActive?"N":"Y"};if(!t.k_seq)return void this.updateKeyword(structuredClone(t));const e={level:4,type:"u",...t};await(0,l.M)(this.apiUID,e).then((e=>{if(200!==e?.data?.result?.code)throw new Error;this.updateKeyword(structuredClone(t)),this.$store.dispatch("NOTY_COM","제외키워드 수정을 성공했습니다.")})).catch((t=>{this.$store.dispatch("NOTY_ERR","제외키워드 수정을 실패했습니다.")}))},async deleteKeyword(){if(!this.source.k_seq)return void this.updateKeyword(this.source,!0);const t={level:4,type:"d",k_seq:this.source.k_seq};await(0,l.M)(this.apiUID,t).then((t=>{if(200!==t?.data?.result?.code)throw new Error;this.updateKeyword(this.source,!0),this.$store.dispatch("NOTY_COM","제외키워드 삭제를 성공했습니다.")})).catch((t=>{this.$store.dispatch("NOTY_ERR","제외키워드 삭제를 실패했습니다.")}))}}},p=d,u=s(3483),m=(0,u.Z)(p,i,a,!1,null,null,null),h=m.exports},3290:function(t,e,s){s.r(e),s.d(e,{default:function(){return y}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"except_box ui-loader-container",class:{"is-loading":t.loading}},[e("div",{staticClass:"header"},[e("h4",[t._v("제외 키워드")]),e("comp-bubble-box",{staticClass:"is-helper",attrs:{"html-type":!0,pos:"RB"}},[e("button",{staticClass:"ui_btn is-icon-only is-xsmall"},[e("span",{staticClass:"icon"},[t._v("")])]),e("div",{staticClass:"ui_help",attrs:{slot:"html-content"},domProps:{innerHTML:t._s(t.getHelperContent.keyword_mng.except_keyword)},slot:"html-content"})])],1),e("VirtualList",{staticClass:"except_keywords",attrs:{id:"virtual_list","data-key":t.isEdit?"k_seq":"idx","data-sources":t.isEdit?t.getExceptKeyword:t.inputList,"data-component":t.item,"extra-props":{clickExceptKeyword:t.clickExceptKeyword,checkedItem:t.checkedItem,updateKeyword:t.updateKeyword}}}),e("div",[e("comp-textarea",{staticClass:"except_keyword_textarea",attrs:{forbiddenChars:t.forbiddenChars,rows:3,placeholder:t.getPlaceholder},on:{blur:t.blurInput},model:{value:t.inputExceptKeyword.name,callback:function(e){t.$set(t.inputExceptKeyword,"name",e)},expression:"inputExceptKeyword.name"}}),e("comp-button",{staticClass:"is-small is-color-black",attrs:{disabled:t.isDisabled},on:{click:t.registExceptKeyword}},[e("span",[t._v("추가")])])],1),e("OperatorSetting",{attrs:{id:`except_keyword_${t.id}`,inputKeyword:t.inputExceptKeyword},on:{"update:inputKeyword":function(e){t.inputExceptKeyword=e},"update:input-keyword":function(e){t.inputExceptKeyword=e}}})],1)},a=[],r=(s(823),s(5791),s(4936),s(8194)),n=s(9362),o=s(2231),l=s.n(o),c=s(3431),d=s(7693),p=s(6949),u=s(329),m={name:"comp-except_keyword",components:{OperatorSetting:p["default"],VirtualList:l()},data(){return{apiUID:n.V.v4(),loading:!1,item:c["default"],checkedItem:{},inputExceptKeyword:{},forbiddenChars:["'",'"',"<",">"],inputList:[]}},props:{id:{type:String,required:!0},exceptList:{type:Array},inputKeyword:{type:Object},isEdit:{type:Boolean,default:!1}},computed:{...(0,r.Se)(["getOpOpts","getTsOpts","getTscOpts","getUseYNOpts","getHelperContent"]),getExceptKeyword:{get(){return this.exceptList},set(t){this.$emit("update:exceptList",t)}},init(){const t={name:"",op:"1",op_len_before:15,op_len_after:15,ts:"1",tsc:2,use_yn:"Y",active:!0};return t.k_seq=this.inputKeyword?.k_seq,t.xp=this.inputKeyword?.xp,t.yp=this.inputKeyword?.yp,t.zp=this.inputKeyword?.zp,t},isDisabled(){const t=!this.isEdit||!!this.inputKeyword?.k_seq,e=this.inputExceptKeyword.name.trim().replaceAll(/\s+(?=\s)|\n+(?=\s)|\s+(?=\n)|\n+(?=\n)/g,"");return!t||e.length<=0},getPlaceholder(){let t="제외 키워드 입력\r\n아래 특수문자는 입력할 수 없습니다.";return 2===this.inputExceptKeyword.tsc?t+="\r\n',|@#$%^*[](){}‘’<>\"+-./:=?_`´~§±·!&":t+="\r\n'\"<>",t}},watch:{inputKeyword:{deep:!0,handler(){this.inputList=[],this.inputExceptKeyword=structuredClone(this.init),document.querySelector("#virtual_list").scrollTo(0,0)}},"inputExceptKeyword.tsc"(t){"2"===String(t)&&this.blurInput()}},created(){this.inputExceptKeyword=structuredClone(this.init)},mounted(){},methods:{blurInput(){this.inputExceptKeyword.name=(0,d.AP)(this.inputExceptKeyword)},clickExceptKeyword(t){this.checkedItem?.k_seq===t.k_seq?this.checkedItem={}:this.checkedItem=structuredClone(t)},updateKeyword(t,e){const s=this.getExceptKeyword.findIndex((e=>e.k_seq===t.k_seq));if(e)if(-1===s)this.inputList=this.inputList.filter((e=>e?.idx!==t?.idx));else{this.getExceptKeyword.findIndex((e=>e.k_seq===t.k_seq));this.getExceptKeyword.splice(s,1),this.$emit("update:exceptList",this.getExceptKeyword)}else if(-1===s){const e=this.inputList.map((e=>(e?.idx===t?.idx&&(e=structuredClone(t)),e)));this.$set(this,"inputList",e)}else{const e=JSON.stringify(this.getExceptKeyword[s]),i=JSON.stringify(t);e!==i&&(this.$set(this.getExceptKeyword,s,structuredClone(t)),this.$emit("update:exceptList",this.getExceptKeyword))}},async registExceptKeyword(){const t={level:4,type:"i",...this.inputExceptKeyword};if(!this.isEdit){const e=t.name.split(/\n/g)||[];return e.forEach((e=>{this.inputList.push({...t,name:e,idx:Math.random()})})),void(this.inputExceptKeyword=structuredClone(this.init))}this.loading=!0,await(0,u.M)(this.apiUID,t).then((t=>{const e=t?.data?.result?.list||[];e.forEach((t=>this.getExceptKeyword.push(t))),this.$set(this,"getExceptKeyword",this.getExceptKeyword),this.inputExceptKeyword=structuredClone(this.init),this.$store.dispatch("NOTY_COM","제외키워드 등록을 성공했습니다.")})).catch((t=>{this.$store.dispatch("NOTY_ERR",t?.data?.result?.err)})).finally((()=>{this.loading=!1}))},async registExceptKeywordList(t){if(!Array.isArray(t))return;this.loading=!0;const e=[];let s=0;if(this.isDisabled||this.inputList.push(this.inputExceptKeyword),t.forEach((t=>{this.inputList.forEach(((s,i)=>{const a={...s,level:4,type:"i",zp:t.zp};delete a.k_seq,e.push({id:this.apiUID+"_"+i+"_"+t.zp,param:a,idx:i})}))})),e.length)for(const i of e)await(0,u.M)(i.id,i.param).then((()=>{0})).catch((()=>{s++})),i.idx===e.length-1&&(this.inputList.length&&(s>0?this.$store.dispatch("NOTY_ERR",`제외키워드 등록 ${s}건을 실패했습니다.`):this.$store.dispatch("NOTY_COM","제외키워드 등록을 성공했습니다.")),this.inputList=[],this.loading=!1,new Promise((t=>t("제외 등록 끝"))));else this.inputList=[],this.loading=!1,new Promise((t=>t("제외 등록 끝")))}}},h=m,_=s(3483),g=(0,_.Z)(h,i,a,!1,null,null,null),y=g.exports},147:function(t,e,s){s.r(e),s.d(e,{default:function(){return u}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"ui_box ui-loader-container group_tree_wrap",class:{"is-loading":t.loading}},[e("div",{staticClass:"content"},[e("div",{staticClass:"group_tree_box"},[e("tree-view",{ref:"treeView",staticClass:"is-keyword-mngr",attrs:{opts:t.opts},on:{"update:opts":function(e){t.opts=e},"!click":function(e){return t.nodeClick.apply(null,arguments)},addNode:t.addNode,modify:t.evt_modify,dbClick:t.dbClick},scopedSlots:t._u([{key:"filterGrp",fn:function(s){return[e("comp-filter-grp",{ref:`modifyGrp_${s.source.k_seq}`,staticClass:"is-small btnMdfy",attrs:{noIconShow:!0,getNoIconWrapPos:t.getItemsWrapPos,disableConfirmBtn:t.modifyDisable},on:{confirm:function(e){return t.evt_modify(s.source)},close:function(e){return t.evt_cancel(s.source)},cancel:function(e){return t.evt_cancel(s.source)},open:function(e){return t.handleNodeClick(s.source,"modifyGrp")}},scopedSlots:t._u([{key:"items",fn:function(){return[e("dl",[e("dt",[e("strong",[t._v("그룹명")])]),e("dd",[e("comp-input-box",{ref:"inputBox",staticClass:"is-small",attrs:{placeholder:"키워드 입력"},on:{enter:function(e){return t.evt_modify(s.source)}},model:{value:t.modify.name,callback:function(e){t.$set(t.modify,"name",e)},expression:"modify.name"}})],1)]),e("dl",[e("dt",[e("strong",[t._v("채널")])]),e("dd",[e("comp-bubble-box",{staticClass:"is-validation",attrs:{showFixed:t.modifyShowFixed,content:"필수값 입니다."}},[e("comp-checkbox-grp",{staticClass:"is-small",attrs:{opts:t.getPgSeqs,box:""},model:{value:t.modify.sg_seqs,callback:function(e){t.$set(t.modify,"sg_seqs",e)},expression:"modify.sg_seqs"}})],1)],1)])]},proxy:!0}],null,!0)}),1==s.source.level?e("comp-filter-grp",{ref:`addGrp_${s.source.k_seq}`,staticClass:"is-small btnAdd",attrs:{disableConfirmBtn:t.inputDisable,pos:"R"},on:{confirm:function(e){return t.evt_confirm(s.source)},open:function(e){return t.handleNodeClick(s.source,"addGrp")},close:function(e){return t.evt_cancel(s.source)},cancel:function(e){return t.evt_cancel(s.source)}},scopedSlots:t._u([{key:"custom",fn:function(){return[e("span",[t._v("")])]},proxy:!0},{key:"items",fn:function(){return[e("dl",[e("dt",[e("strong",[t._v("그룹명")])]),e("dd",[e("comp-input-box",{ref:"inputBox",staticClass:"is-small",attrs:{placeholder:"키워드 입력"},on:{enter:function(e){return t.evt_confirm(s.source)}},model:{value:t.input.name,callback:function(e){t.$set(t.input,"name",e)},expression:"input.name"}})],1)]),e("dl",[e("dt",[e("strong",[t._v("채널")])]),e("dd",[e("comp-bubble-box",{staticClass:"is-validation",attrs:{showFixed:t.inputShowFixed,content:"필수값 입니다."}},[e("comp-checkbox-grp",{staticClass:"is-small",attrs:{opts:t.getSgSeqs,box:""},model:{value:t.input.sg_seqs,callback:function(e){t.$set(t.input,"sg_seqs",e)},expression:"input.sg_seqs"}})],1)],1)])]},proxy:!0}],null,!0)}):t._e(),e("div",{staticClass:"btnDel",on:{click:function(e){return t.evt_delete(s.source)}}},[e("span",[t._v("")])]),e("comp-switch-btn",{staticClass:"is-xxsmall",attrs:{id:`op_switch_${s.source.k_seq}`,valForm:t.getUseYNOpts},on:{click:function(e){return t.evt_modify(s.source,"switch")}},model:{value:s.source.use_yn,callback:function(e){t.$set(s.source,"use_yn",e)},expression:"nodeItem.source.use_yn"}})]}}])})],1)]),t._m(0)])},a=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"footer"},[e("span",{staticClass:"ui_icon"},[t._v("")]),t._v(" 키워드명 더블클릭으로 수정")])}],r=s(9362),n=s(8194),o=s(7190),l={name:"comp-group-treeview",data(){return{getItemsWrapPos:"",apiUID:r.V.v4(),loading:!1,input:{name:"",sg_seqs:""},modify:{name:"",sg_seqs:"",p_seqs:""},opts:[],childData:""}},props:["groupList","selectedGrp"],computed:{...(0,n.Se)(["getUseYNOpts"]),modifyDisable(){let t=this.getSgSeqs.filter((t=>this.modify.sg_seqs.split(",").includes(t.code.toString())));return this.modify.name.length<1||t.length<1},modifyShowFixed(){let t=this.getSgSeqs.filter((t=>this.modify.sg_seqs.split(",").includes(t.code.toString())));return t.length<1},inputDisable(){let t=this.getSgSeqs.filter((t=>this.input.sg_seqs.split(",").includes(t.code.toString())));return this.input.name.length<1||t.length<1},inputShowFixed(){let t=this.getSgSeqs.filter((t=>this.input.sg_seqs.split(",").includes(t.code.toString())));return t.length<1},getSgSeqs(){if(this.$store.getters.getSgSeqs.length>0){let t=JSON.parse(JSON.stringify(this.$store.getters.getSgSeqs)).delAttr("color");return t.map((t=>{this.modify.sg_seqs.includes(t.code)||(t.disabled=!0)})),t}{let t=JSON.parse(JSON.stringify([{code:"뉴스",name:"뉴스"},{code:"블로그",name:"블로그"},{code:"카페",name:"카페"},{code:"커뮤니티",name:"커뮤니티"},{code:"유튜브",name:"유튜브"},{code:"인스타그램",name:"인스타그램"},{code:"트위터",name:"트위터"}]));return t.map((t=>{this.modify.sg_seqs.includes(t.code)||(t.disabled=!0)})),t}},getPgSeqs(){if(this.$store.getters.getSgSeqs.length>0){let t=JSON.parse(JSON.stringify(this.$store.getters.getSgSeqs)).delAttr("color");return t.map((t=>{this.modify.p_seqs.includes(t.code)||(t.disabled=!0)})),t}{let t=JSON.parse(JSON.stringify([{code:"뉴스",name:"뉴스"},{code:"블로그",name:"블로그"},{code:"카페",name:"카페"},{code:"커뮤니티",name:"커뮤니티"},{code:"유튜브",name:"유튜브"},{code:"인스타그램",name:"인스타그램"},{code:"트위터",name:"트위터"}]));return t.map((t=>{this.modify.p_seqs.includes(t.code)||(t.disabled=!0)})),t}}},created(){this.opts=this.groupList},watch:{opts(t){this.$emit("update:groupList",t)},groupList(t){this.opts=t}},methods:{addNodeFilterOpen(t){this.$nextTick((()=>{this.$refs.inputBox.$refs.input.focus()}))},evt_delete(t){this.$store.dispatch("DIALOG_WRN",["삭제 시 하위 그룹, 키워드가 모두 삭제 됩니다.","삭제하시겠습니까?",2]).then((()=>{let e={level:t.level,type:"d",xp:t.xp,yp:t.yp,zp:t.zp,k_seq:t.k_seq,name:t.name,sg_seqs:t.sg_seqs,use_yn:t.use_yn};this.deleteNode(e)})).catch((t=>{3!=t&&this.$store.dispatch("DIALOG_ERR",["키워드 그룹을 삭제하지 못했습니다","키워드 그룹 삭제 실패",0])})).finally((()=>{}))},async deleteNode(t){this.loading=!0;let e={level:t.level,type:t.type,xp:t.xp,yp:t.yp,k_seq:t.k_seq};await(0,o.S)(this.apiUID,e).then((e=>{this.$refs.treeView.deleteNode(t)})).catch((t=>{this.$store.dispatch("DIALOG_ERR",["키워드 그룹을 삭제하지 못했습니다","키워드 그룹 삭제 실패",0]).then((t=>{})).catch((t=>{}))})).finally((()=>{this.loading=!1}))},async addNode(t){this.loading=!0;let e={level:t.level,type:t.type,name:t.name,sg_seqs:t.sg_seqs,use_yn:t.use_yn};2==t.level&&(e.xp=t.xp),await(0,o.S)(this.apiUID,e).then((e=>{if(e.data.result){let s={...t};s.xp=e.data.result.xp,s.yp=e.data.result.yp,s.zp=e.data.result.zp,s.k_seq=e.data.result.k_seq,s.name=e.data.result.name,s.children=[],this.$refs.treeView.addNode(s)}else this.$store.dispatch("DIALOG_ERR",["키워드 그룹을 등록하지 못했습니다","키워드 그룹 등록 실패",0]).then((t=>{})).catch((t=>{}))})).catch((t=>{this.$store.dispatch("DIALOG_ERR",["키워드 그룹을 등록하지 못했습니다","키워드 그룹 등록 실패",0]).then((t=>{})).catch((t=>{}))})).finally((()=>{this.loading=!1}))},async modifyNode(t,e){this.loading=!0;let s={level:t.level,type:t.type,xp:t.xp,yp:t.yp,k_seq:t.k_seq,name:t.name,sg_seqs:t.sg_seqs,use_yn:t.use_yn};await(0,o.S)(this.apiUID,s).then((e=>{let s={...t};this.$refs.treeView.modifyTree(s)})).catch((s=>{this.$store.dispatch("DIALOG_ERR",["키워드 그룹을 수정하지 못했습니다","키워드 그룹 수정 실패",0]).then((s=>{let i={level:t.level,name:t.editName?t.editName:t.name,k_seq:t.k_seq,sg_seqs:this.modify.edit_seqs,use_yn:t.use_yn};"switch"==e&&(i.sg_seqs=t.sg_seqs,i.name=t.name,i.use_yn=t.use_yn.test(this.getUseYNOpts)),this.$refs.treeView.modifyTree(i)})).catch((t=>{}))})).finally((()=>{this.loading=!1}))},nodeClick(t){this.$emit("update:selectedGrp",t)},dbClick({data:t,getItemsWrapPos:e}){let s=`modifyGrp_${t.k_seq}`;this.getItemsWrapPos=e,this.$refs[s]?.hndl_open()},evt_confirm(t){let e=`addGrp_${t.k_seq}`;if(this.input.name.length<1);else{const s={level:2,type:"i",xp:t.xp,yp:t.yp,zp:t.zp,k_seq:t.k_seq,name:this.input.name,sg_seqs:this.input.sg_seqs,p_seqs:t.sg_seqs,use_yn:"Y",p_code:t.k_seq,children:t.children};this.addNode(s),this.$refs[e].hndl_close(),this.input.name="",this.input.sg_seqs=""}},evt_modify(t,e){let s=`modifyGrp_${t.k_seq}`,i=t.sg_seqs.split(",").sort(),a=this.modify.sg_seqs.split(",").sort();if(void 0==e)if(this.modify.name.length<1);else if(i.join()===a.join()){let i={...t};i.type="u",i.name=1==e?t.name:this.modify.name,i.sg_seqs=this.modify.sg_seqs,"switch"==e&&(i.sg_seqs=t.sg_seqs,i.name=t.name),this.modifyNode(i,e),this.$refs[s].hndl_close()}else this.$store.dispatch("DIALOG_WRN",["저장 시 하위 그룹, 키워드가 모두 변경 됩니다.","저장하시겠습니까?",2]).then((i=>{let a={...t};a.type="u",a.name=1==e?t.name:this.modify.name,a.sg_seqs=this.modify.sg_seqs,"switch"==e&&(a.sg_seqs=t.sg_seqs,a.name=t.name),this.modifyNode(a,e),this.$refs[s].hndl_close()})).catch((t=>{}));else{let i={...t};i.type="u",i.name=1==e?t.name:this.modify.name,i.sg_seqs=this.modify.sg_seqs,"switch"==e&&(i.sg_seqs=t.sg_seqs,i.name=t.name),this.modifyNode(i,e),this.$refs[s].hndl_close()}},evt_cancel(){this.$refs.treeView.offTool()},handleNodeClick(t){setTimeout((()=>{this.$refs.treeView.onTool(t)}),100),this.$nextTick((()=>{this.$refs.inputBox.$refs.input.focus()})),this.input.name="",this.modify.name=t.name,this.modify.sg_seqs=t.sg_seqs,this.modify.p_seqs=t.p_seqs,this.modify.edit_seqs=t.sg_seqs,this.input.sg_seqs=t.sg_seqs}}},c=l,d=s(3483),p=(0,d.Z)(c,i,a,!1,null,"d82650d0",null),u=p.exports},9153:function(t,e,s){s.r(e),s.d(e,{default:function(){return p}});var i=function(){var t=this,e=t._self._c;return e("div",[t.isEdit?e("comp-input-box",{staticClass:"input_mdfy is-large",staticStyle:{width:"100%"},attrs:{id:`keyword_input_${t.id}`,placeholder:t.getPlaceholder,forbiddenChars:t.forbiddenChars},on:{blur:t.trimKeyword},model:{value:t.getInputKeyword.name,callback:function(e){t.$set(t.getInputKeyword,"name",e)},expression:"getInputKeyword.name"}}):e("comp-textarea",{attrs:{id:`keyword_input_${t.id}`,rows:5,placeholder:t.getPlaceholder,forbiddenChars:t.forbiddenChars},on:{blur:t.blurInput},model:{value:t.getInputKeyword.name,callback:function(e){t.$set(t.getInputKeyword,"name",e)},expression:"getInputKeyword.name"}}),e("OperatorSetting",{attrs:{id:t.id,inputKeyword:t.getInputKeyword,availableSgGrp:t.availableSgGrp,useSgGrp:t.useSgGrp},on:{"update:inputKeyword":function(e){t.getInputKeyword=e},"update:input-keyword":function(e){t.getInputKeyword=e}}})],1)},a=[],r=s(7693),n=s(6949),o={name:"comp-keyword-input",components:{OperatorSetting:n["default"]},data(){return{forbiddenChars:["'",'"',"<",">"]}},props:{id:{type:String,required:!0},isEdit:{type:Boolean,default:!1},inputKeyword:{type:Object},useSgGrp:{type:Boolean,default:!1},availableSgGrp:{type:String,default:""}},computed:{getInputKeyword:{get(){return this.inputKeyword},set(t){this.$emit("update:inputKeyword",t)}},getPlaceholder(){let t="키워드 입력\r\n아래 특수문자는 입력할 수 없습니다.";return 2===this.getInputKeyword.tsc?t+="\r\n',|@#$%^*[](){}‘’<>\"+-./:=?_`´~§±·!&":t+="\r\n'\"<>",t}},watch:{"getInputKeyword.tsc"(t){"2"===String(t)&&this.blurInput()}},methods:{trimKeyword:r.AP,blurInput(){this.getInputKeyword.name=(0,r.AP)(this.getInputKeyword)}}},l=o,c=s(3483),d=(0,c.Z)(l,i,a,!1,null,"504d7f28",null),p=d.exports},7869:function(t,e,s){s.r(e),s.d(e,{default:function(){return m}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"ui_box ui-loader-container",class:{"is-loading":t.loading}},[e("div",{staticClass:"ui_function is-box-large is-fixed"},[e("div",{staticClass:"lc"},[e("comp-button",{on:{click:t.clickRegist}},[e("span",{staticClass:"txt ui-ellipsis"},[t._v("키워드 등록")])]),e("comp-button-grp",{attrs:{pos:"RD",useBtns:!1},scopedSlots:t._u([{key:"title",fn:function(){return[e("comp-button",{attrs:{disabled:!t.checkedItems.length}},[e("span",{staticClass:"txt ui-ellipsis"},[t._v("일괄설정("+t._s(t.checkedItems.length)+"개)")])])]},proxy:!0},{key:"items",fn:function({onClick:s}){return[e("comp-button",{on:{click:function(e){return t.clickDelete({},!0,s)}}},[e("span",{staticClass:"txt ui-ellipsis"},[t._v("삭제")])]),e("comp-button",{on:{click:function(e){return t.clickUseYN("Y",s)}}},[e("span",{staticClass:"txt ui-ellipsis"},[t._v("사용")])]),e("comp-button",{on:{click:function(e){return t.clickUseYN("N",s)}}},[e("span",{staticClass:"txt ui-ellipsis"},[t._v("미사용")])])]}}])})],1),e("div",{staticClass:"rc"},[e("comp-input-box",{staticStyle:{width:"500px"},attrs:{id:"brd_searchKeyword",type:"search",placeholder:"검색어를 입력하세요.",focusResetVisible:""},on:{search:t.clickSearch},model:{value:t.brdOpts.input_search_keyword,callback:function(e){t.$set(t.brdOpts,"input_search_keyword",e)},expression:"brdOpts.input_search_keyword"}},[e("comp-selectbox",{staticStyle:{width:"120px"},attrs:{slot:"inputSelect",id:"brd_searchType",opts:t.getSearchTypeOpts},slot:"inputSelect",model:{value:t.brdOpts.input_search_type,callback:function(e){t.$set(t.brdOpts,"input_search_type",e)},expression:"brdOpts.input_search_type"}})],1)],1)]),e("div",{staticClass:"content"},[e("div",{staticClass:"ui_brd"},[e("div",{staticClass:"infos"},[e("div",{staticClass:"lc"},[e("div",{staticClass:"page_info"},[e("span",[t._v("총 "),e("strong",[t._v(t._s(Number(t.brdDatas.total_cnt).lengthLimitComma(0)))]),t._v(" 건")]),e("hr"),e("strong",[t._v(" "+t._s(t.brdOpts.page_num)+" ")]),t._v(" / "),e("span",[t._v(" "+t._s(t.brdDatas.total_cnt>0?Math.ceil(t.brdDatas.total_cnt/t.getRowLimit).lengthLimitComma(0):1)+" ")]),t._v(" Pages ")])]),e("div",{staticClass:"rc"},[e("comp-filter-grp",{attrs:{pos:"BR"},scopedSlots:t._u([{key:"custom",fn:function(){return[e("comp-button",{staticClass:"is-small is-icon-only"},[e("span",{staticClass:"icon"},[t._v("")])])]},proxy:!0},{key:"items",fn:function(){return[e("dl",[e("dt",[e("strong",[t._v("보기건수")])]),e("dd",[e("comp-selectbox",{staticClass:"is-small",attrs:{id:"rowlimit_select",opts:t.getBrdViewLen},model:{value:t.getRowLimit,callback:function(e){t.getRowLimit=e},expression:"getRowLimit"}})],1)]),e("hr"),e("dl",[e("dt",[e("strong",[t._v("노출필드")]),e("comp-button",{staticClass:"ui_btn is-small is-icon-only",staticStyle:{"margin-left":"4px"},on:{click:t.resetColOpts}},[e("span",{staticClass:"icon"},[t._v("")])])],1),e("dd",t._l(Object.keys(t.getColOpts),(function(s){return e("dl",{key:s},[e("dt",[e("span",[t._v(t._s(t.colOpts.getParseDatas({code:s})[0]?.name))])]),e("dd",["category"===s&&1!==t.selectedGrp?.level?e("comp-switch-btn",{staticClass:"is-small",attrs:{id:`${s}_switch`,disabled:""},model:{value:t.getColOpts[s],callback:function(e){t.$set(t.getColOpts,s,e)},expression:"getColOpts[item]"}}):e("comp-switch-btn",{staticClass:"is-small",attrs:{id:`${s}_switch`},model:{value:t.getColOpts[s],callback:function(e){t.$set(t.getColOpts,s,e)},expression:"getColOpts[item]"}})],1)])})),0)])]},proxy:!0}])})],1)]),e("div",{staticClass:"wrap"},[e("table",[e("colgroup",[e("col",{staticStyle:{width:"40px"}}),t.getColOpts.category&&1==t.selectedGrp?.level?e("col",{staticStyle:{width:"70px"}}):t._e(),t.getColOpts.name?e("col",{staticStyle:{width:"15%"}}):t._e(),t.getColOpts.op?e("col",{staticStyle:{width:"85px"}}):t._e(),t.getColOpts.ts?e("col",{staticStyle:{width:"115px"}}):t._e(),t.getColOpts.sg_seqs?e("col",{staticStyle:{width:"157px"}}):t._e(),t.getColOpts.expt_keywords?e("col"):t._e(),t.getColOpts.reg_date?e("col",{staticStyle:{width:"91px"}}):t._e(),t.getColOpts.w_name?e("col",{staticStyle:{width:"50px"}}):t._e(),t.getColOpts.use_yn?e("col",{staticStyle:{width:"60px"}}):t._e(),e("col",{staticStyle:{width:"40px"}})]),e("thead",{staticClass:"is-fixed"},[e("tr",[e("th",[e("comp-checkbox",{staticClass:"is-small is-board",attrs:{id:"register_allCheck"},on:{click:function(e){return e.stopPropagation(),t.clickAllCheck.apply(null,arguments)}},model:{value:t.allCheck,callback:function(e){t.allCheck=e},expression:"allCheck"}})],1),t.getColOpts.category&&1===t.selectedGrp?.level?e("th",[e("strong",[t._v("그룹")])]):t._e(),t.getColOpts.name?e("th",[e("strong",[t._v("키워드")]),e("comp-table-sort",{attrs:{id:"k_value",name:"orderColumn","min-one-value":""},model:{value:t.brdOpts.order,callback:function(e){t.$set(t.brdOpts,"order",e)},expression:"brdOpts.order"}})],1):t._e(),t.getColOpts.op?e("th",[e("comp-table-filter",{attrs:{id:"table_filter_op",name:"종류",opts:t.tableFilter.op.opts,multi:!0,labelVisibleNum:1},on:{confirm:t.searching},model:{value:t.tableFilter.op.value,callback:function(e){t.$set(t.tableFilter.op,"value",e)},expression:"tableFilter.op.value"}})],1):t._e(),t.getColOpts.ts?e("th",[e("comp-table-filter",{attrs:{id:"table_filter_ts",name:"검색영역",opts:t.tableFilter.ts.opts,multi:!0,labelVisibleNum:1},on:{confirm:t.searching},model:{value:t.tableFilter.ts.value,callback:function(e){t.$set(t.tableFilter.ts,"value",e)},expression:"tableFilter.ts.value"}})],1):t._e(),t.getColOpts.sg_seqs?e("th",[e("strong",[t._v("채널")])]):t._e(),t.getColOpts.expt_keywords?e("th",[e("strong",{staticStyle:{display:"inline-block","min-width":"34px"}},[t._v("제외 키워드")])]):t._e(),t.getColOpts.reg_date?e("th",[e("strong",[t._v("등록일")]),e("comp-table-sort",{attrs:{id:"reg_date",name:"orderColumn","min-one-value":""},model:{value:t.brdOpts.order,callback:function(e){t.$set(t.brdOpts,"order",e)},expression:"brdOpts.order"}})],1):t._e(),t.getColOpts.w_name?e("th",[e("strong",[t._v("작성자")])]):t._e(),t.getColOpts.use_yn?e("th",[e("comp-table-filter",{attrs:{id:"table_filter_sg_seqs",name:"사용",opts:t.tableFilter.use_yn.opts,multi:!0},on:{confirm:t.searching},model:{value:t.tableFilter.use_yn.value,callback:function(e){t.$set(t.tableFilter.use_yn,"value",e)},expression:"tableFilter.use_yn.value"}})],1):t._e(),t._m(0)])]),0==t.brdDatas.list.length?e("tbody",[t._l(Math.floor(4.5),(function(s){return e("tr",{key:`empty_t${s}`,staticClass:"is-no-over"},[e("td",{staticClass:"is-no-over",attrs:{colspan:t.getColCnt}})])})),e("tr",{staticClass:"is-no-over"},[e("td",{staticClass:"is-no-over no_data in_list",attrs:{colspan:t.getColCnt}},[e("span",{staticClass:"ui_no_data_txt"},[t._v("데이터가 없습니다.")])])]),t._l(Math.ceil(4.5),(function(s){return e("tr",{key:`empty_b${s}`,staticClass:"is-no-over"},[e("td",{staticClass:"is-no-over",attrs:{colspan:t.getColCnt}})])}))],2):e("tbody",[t._l(t.brdDatas.list,(function(s,i){return e("tr",{key:s.k_seq,class:{"is-selected":t.getEditKeyword?.k_seq===s.k_seq,"is-checked":t.isChecked(s.k_seq)},on:{click:function(e){return t.clickTableRow(s,e)}}},[e("td",{staticStyle:{width:"100px"}},[e("comp-checkbox",{staticClass:"is-small is-board",attrs:{id:`keywords_${s.k_seq}`,value:t.isChecked(s.k_seq),tabindex:"-1"},on:{click:function(e){return e.stopPropagation(),t.clickCheckBox(s.k_seq)}}})],1),t.getColOpts.category&&1===t.selectedGrp?.level?e("td",{staticClass:"td_category"},[e("span",{staticClass:"ui_fc_dm ui-ellipsis"},[t._v(t._s(t.categoryList.getParseDatas({code:s.yp})[0]?.name||"-"))])]):t._e(),t.getColOpts.name?e("td",{staticClass:"td_name"},["1"===String(t.brdOpts.search_type)?e("strong",{domProps:{innerHTML:t._s(t.parseHighlightWords(t.parseKeywordName(s.name)))}}):e("strong",{domProps:{innerHTML:t._s(t.parseKeywordName(s.name))}})]):t._e(),t.getColOpts.op?e("td",{staticClass:"td_op"},[e("span",{staticClass:"ui_fc_dm"},[t._v(t._s(t.parseOpCodeToName(s.op)))])]):t._e(),t.getColOpts.ts?e("td",{staticClass:"td_ts"},[e("span",{staticClass:"ui_fc_dm"},[t._v(t._s(t.parseTsCodeToName(s.ts)))])]):t._e(),t.getColOpts.sg_seqs?e("td",{staticClass:"ui_al td_sg_seqs"},[e("span",{staticClass:"box"},[e("span",{staticClass:"ui_fc_dm",attrs:{title:t.parseSgCodeToName(s.sg_seqs)}},[t._v(t._s(t.parseSgCodeToName(s.sg_seqs,3)))]),t.getSgCodeCnt(s.sg_seqs)>1?e("span",{staticClass:"ui_fc_dm2"},[t._v("(총 "+t._s(t.getSgCodeCnt(s.sg_seqs))+"개)")]):t._e()])]):t._e(),t.getColOpts.expt_keywords?e("td",{staticClass:"ui_al td_expt_keyword",staticStyle:{width:"75%","max-width":"50px"}},[t.getExceptKeywords(s.expt_keywords).length?e("span",{staticClass:"box"},[e("span",{staticClass:"ui_fc_dm ui-ellipsis",domProps:{innerHTML:t._s(t.getExceptKeywords(s.expt_keywords).arrObjAttrToStr("name")||"")}}),e("span",{staticClass:"ui_fc_dm2 ui-ellipsis"},[t._v("(총 "+t._s(t.getExceptKeywords(s.expt_keywords).length.lengthLimitComma(0))+"개)")])]):t._e()]):t._e(),t.getColOpts.reg_date?e("td",{staticStyle:{"max-width":"100px"}},[e("span",{staticClass:"ui_fc_dm",attrs:{title:s.reg_date.dateToStr("-","YYYY-MM-DD hh:mm")}},[t._v(t._s(s.reg_date.dateToStr()))])]):t._e(),t.getColOpts.w_name?e("td",["3"===String(t.brdOpts.search_type)?e("span",{staticClass:"ui_fc_dm",domProps:{innerHTML:t._s(t.parseHighlightWords(s.w_name))}}):e("span",{staticClass:"ui_fc_dm"},[t._v(t._s(s.w_name))])]):t._e(),t.getColOpts.use_yn?e("td",{on:{click:function(e){return e.stopPropagation(),t.changeUseYN(s,i,e)}}},[e("comp-switch-btn",{staticClass:"is-xxsmall",attrs:{id:`${s.k_seq}_use_yn`},model:{value:s.active,callback:function(e){t.$set(s,"active",e)},expression:"item.active"}})],1):t._e(),e("td",{on:{click:function(e){return e.stopPropagation(),t.clickDelete(s)}}},[e("comp-button",{staticClass:"is-xsmall is-icon-only"},[e("span",{staticClass:"icon"},[t._v("")])])],1)])})),t._l(Math.abs(t.getRowLimit-t.brdDatas.list.length),(function(s){return e("tr",{key:"brd_2_"+s},[e("td",{staticClass:"is-no-over",attrs:{colspan:t.getColCnt}})])}))],2)])]),e("div",{staticClass:"footer"},[e("comp-paginate",{attrs:{datas:t.brdOpts,"total-len":t.brdDatas.total_cnt},model:{value:t.brdOpts.page_num,callback:function(e){t.$set(t.brdOpts,"page_num",e)},expression:"brdOpts.page_num"}})],1)])])])},a=[function(){var t=this,e=t._self._c;return e("th",[e("strong",[t._v("삭제")])])}],r=(s(823),s(5791),s(4936),s(9362)),n=s(8194),o=s(7693),l=s(329),c={name:"comp-main-brd",data(){return{apiUID:r.V.v4(),loading:!1,tableFilter:{op:{value:"",opts:[]},ts:{value:"",opts:[]},use_yn:{value:"",opts:[]}},brdOpts:{page_num:1,pagingColCnt:10,row_limit:"",search_type:"",search_keyword:"",input_search_keyword:"",input_search_type:"",order:"reg_date^D"},brdDatas:{total_cnt:0,list:[]},colOpts:[{code:"category",name:"카테고리"},{code:"name",name:"키워드"},{code:"op",name:"종류"},{code:"ts",name:"검색영역"},{code:"sg_seqs",name:"채널"},{code:"expt_keywords",name:"제외키워드"},{code:"reg_date",name:"등록일"},{code:"w_name",name:"작성자"},{code:"use_yn",name:"사용여부"}],checkedItems:[],allCheck:!1,expandItems:!1}},props:{savePersonalization:{type:Object},editKeyword:{type:Object,default:()=>({})},selectedGrp:{type:Object},categoryList:{type:Array}},computed:{...(0,n.Se)(["getSgSeqs","getOpOpts","getTsOpts","getTscOpts","getBrdViewLen","getSearchTypeOpts","getUseYNOpts"]),getEditKeyword:{get(){return this.editKeyword},set(t){this.$emit("update:editKeyword",t)}},getSavePersonalization:{get(){return this.savePersonalization},set(t){this.$emit("update:savePersonalization",t)}},getRowLimit:{get(){return this.getSavePersonalization.main.data_list.row_limit},set(t){this.getSavePersonalization.main.data_list.row_limit=t,this.searching(),this.setRowlimit()}},getColOpts(){return this.getSavePersonalization.main.data_list.colOpts},getColCnt(){let t=0;return t=1!==this.selectedGrp?.level?Object.keys(this.getColOpts).filter((t=>{if("category"!==t&&this.getColOpts[t])return t})).length:Object.values(this.getColOpts).filter((t=>t)).length,t+2}},created(){this.tableFilter.op={opts:[...this.getOpOpts],value:this.getOpOpts.arrObjAttrToStr("code")},this.tableFilter.ts={opts:[...this.getTsOpts],value:this.getTsOpts.arrObjAttrToStr("code")},this.tableFilter.use_yn={opts:[...this.getUseYNOpts],value:this.getUseYNOpts.arrObjAttrToStr("code")},this.setRowlimit()},mounted(){this.fetchData()},watch:{checkedItems(t){t.length===this.brdDatas.list.length?this.allCheck=!0:this.allCheck=!1},editKeyword:{deep:!0,handler(t){const e=this.brdDatas.list.findIndex((e=>e.k_seq===t.k_seq));this.$set(this.brdDatas.list,e,structuredClone(t))}},selectedGrp:{deep:!0,handler(){this.brdOpts.search_type=1,this.brdOpts.input_search_keyword="",this.brdOpts.search_keyword="",this.searching(),window.scrollTo(0,0)}},"brdOpts.page_num"(t,e){t!==e&&(window.scrollTo(0,0),this.fetchData())},"brdOpts.order"(){this.searching()}},methods:{parseKeywordName:o.e_,clickAllCheck(){this.allCheck?this.checkedItems=[]:this.checkedItems=this.brdDatas.list.map((t=>t.k_seq))},isChecked(t){return this.checkedItems.includes(t)},clickCheckBox(t){this.isChecked(t)?this.checkedItems=this.checkedItems.filter((e=>e!==t)):this.checkedItems.push(t)},setRowlimit(){this.brdOpts.row_limit=this.getRowLimit},searching(){1==this.brdOpts.page_num?this.fetchData():this.brdOpts.page_num=1},clickSearch(t){this.brdOpts.search_keyword=t,this.brdOpts.search_type=this.brdOpts.input_search_type,this.searching()},async fetchData(){const t=["xp","yp","zp"].every((t=>Object.keys(this.selectedGrp).includes(t)));if(!t)return this.brdDatas.total_cnt=0,void(this.brdDatas.list=[]);const e={xp:this.selectedGrp.xp,yp:this.selectedGrp.yp,zp:this.selectedGrp.zp,use_yn:this.tableFilter.use_yn.value,op:this.tableFilter.op.value,ts:this.tableFilter.ts.value,order:this.brdOpts.order,page_num:this.brdOpts.page_num,row_limit:this.getRowLimit,search_type:this.brdOpts.search_type,search_keyword:this.brdOpts.search_keyword};e.order=e.order.replace(/\^D|\^A/g,(t=>"^D"===t?" desc":" asc")),this.loading=!0,await(0,l.R)(this.apiUID,e).then((t=>{const e=structuredClone(t?.data?.result);this.brdDatas.list=[...e?.list],this.brdDatas.total_cnt=e?.total,this.brdOpts.input_search_keyword=this.brdOpts.search_keyword,this.brdOpts.input_search_type=this.brdOpts.search_type,this.parseUseYN()})).catch((t=>{this.$store.dispatch("NOTY_ERR","키워드 조회를 실패했습니다.")})).finally((()=>{this.loading=!1}))},parseUseYN(){this.brdDatas.list.forEach((t=>{t.active="Y"===t.use_yn}))},clickTableRow(t,e){"LABEL"!==e.target.tagName&&(t?.k_seq!==this.getEditKeyword?.k_seq?(this.getEditKeyword=structuredClone(t),document.querySelector("aside").classList.contains("is-closed")&&document.querySelector(".resizer button").click()):this.getEditKeyword={})},clickRegist(){document.querySelector("aside").classList.contains("is-closed")&&document.querySelector(".resizer button").click(),this.getEditKeyword={}},async clickDelete(t,e,s){if(e&&!this.checkedItems.length)return;this.loading=!0;const i={};if(e){i.k_seq=this.checkedItems.join();const t=[];this.checkedItems.forEach((e=>{const s=this.brdDatas.list.getParseDatas({k_seq:e})[0]||{};s?.expt_keywords?.length&&t.push(s.expt_keywords.arrObjAttrToStr("k_seq"))})),t.length&&(i.expt_k_seq=t.join())}else i.k_seq=t.k_seq,t.expt_keywords.length&&(i.expt_k_seq=t.expt_keywords.arrObjAttrToStr("k_seq"));this.$emit("deleteKeyword",i),this.checkedItems=[],s&&s()},async clickUseYN(t,e){this.checkedItems.length&&(this.$emit("updateKeyword",{xp:0,yp:0,k_seq:this.checkedItems.join(),use_yn:t}),this.checkedItems=[],e&&e(),this.fetchData())},changeUseYN(t,e,s){if("INPUT"===s.target.tagName){const s=structuredClone(t);s.use_yn=s.active?"N":"Y",this.$set(this.brdDatas.list,e,s),this.$emit("updateKeyword",s)}},resetColOpts(){Object.keys(this.getColOpts).forEach((t=>{this.getColOpts[t]=!0}))},getExceptKeywords(t){const e=t;return e&&e.filter((t=>"Y"==t?.use_yn)).map((t=>{const e=structuredClone(t);return"2"===String(this.brdOpts.search_type)&&(e.name=this.parseHighlightWords(e.name)),e}))||[]},getSgCodeCnt(t){return t?t.split(",").length.lengthLimitComma(0):0},parseSgCodeToName(t,e){if(!t)return"";const s=t.split(",").map((t=>Number(t))),i=this.getSgSeqs.filter((t=>s.includes(t.code))).arrObjAttrToStr("name","",e);return i},parseOpCodeToName(t){const e=this.getOpOpts.getParseDatas({code:t}).arrObjAttrToStr("name");return e},parseTsCodeToName(t){const e=this.getTsOpts.getParseDatas({code:t}).arrObjAttrToStr("name");return e},parseHighlightWords(t){if(this.brdOpts.search_keyword){let e=this.brdOpts.search_keyword;if(e.trim().length){"2"!==String(this.brdOpts.search_type)&&(e=this.parseKeywordName(this.brdOpts.search_keyword));const s=new RegExp(e,"gi");t=String(t).replace(s,(t=>`<span class="is-hl-inputkeyword">${t}</span>`))}}return t}}},d=c,p=s(3483),u=(0,p.Z)(d,i,a,!1,null,"c80ea8ee",null),m=u.exports},6949:function(t,e,s){s.r(e),s.d(e,{default:function(){return d}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"operator_box"},[t.useSgGrp?e("comp-bubble-box",{staticClass:"is-validation",attrs:{showFixed:!t.getInputKeyword?.sg_seqs,content:"필수값 입니다."}},[e("comp-checkbox-grp",{staticClass:"is-small",attrs:{id:`sg_chk_${t.id}`,name:`sg_chk_${t.id}`,opts:t.getSgOpts,box:""},model:{value:t.getInputKeyword.sg_seqs,callback:function(e){t.$set(t.getInputKeyword,"sg_seqs",e)},expression:"getInputKeyword.sg_seqs"}})],1):t._e(),e("div",{staticClass:"row"},[e("comp-radio-grp",{staticClass:"is-small",attrs:{id:`ts_radio_${t.id}`,name:`ts_radio_${t.id}`,opts:t.getTsOpts,box:""},model:{value:t.getInputKeyword.ts,callback:function(e){t.$set(t.getInputKeyword,"ts",e)},expression:"getInputKeyword.ts"}}),e("hr"),e("comp-bubble-box",{attrs:{content:t.getHelperContent.keyword_mng.operator_setting.tsc,pos:"L"}},[e("comp-button",{staticClass:"is-xsmall is-icon-only"},[e("span",{staticClass:"icon"},[t._v("")])])],1),e("comp-switch-btn",{staticClass:"is-xsmall",attrs:{id:`op_switch_${t.id}`,label:"특수문자 제거"},model:{value:t.getOperatorTsc,callback:function(e){t.getOperatorTsc=e},expression:"getOperatorTsc"}})],1),e("div",{staticClass:"row"},[e("comp-radio-grp",{staticClass:"is-small",staticStyle:{"margin-right":"4px"},attrs:{id:`op_radio_${t.id}`,name:`op_radio_${t.id}`,opts:t.getOpOpts,box:""},model:{value:t.getInputKeyword.op,callback:function(e){t.$set(t.getInputKeyword,"op",e)},expression:"getInputKeyword.op"}}),e("div",{staticClass:"grp"},[e("div",{staticClass:"adjacency_keyword",class:{"is-disabled":!t.useOpLength}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.getInputKeyword.op_len_before,expression:"getInputKeyword.op_len_before"}],attrs:{type:"number",max:"999",placeholder:"앞"},domProps:{value:t.getInputKeyword.op_len_before},on:{input:function(e){e.target.composing||t.$set(t.getInputKeyword,"op_len_before",e.target.value)}}}),e("span",[t._v("인접 길이")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.getInputKeyword.op_len_after,expression:"getInputKeyword.op_len_after"}],attrs:{type:"number",max:"999",placeholder:"뒤"},domProps:{value:t.getInputKeyword.op_len_after},on:{input:function(e){e.target.composing||t.$set(t.getInputKeyword,"op_len_after",e.target.value)}}})])])],1)],1)},a=[],r=(s(823),s(5791),s(8194)),n={name:"comp-operator-setting",data(){return{}},props:{id:{type:String,required:!0},inputKeyword:{type:Object},useSgGrp:{type:Boolean,default:!1},availableSgGrp:{type:String,default:""}},computed:{...(0,r.Se)(["getSgSeqs","getOpOpts","getTsOpts","getTscOpts","getHelperContent"]),getInputKeyword:{get(){return this.inputKeyword},set(t){this.$emit("update:inputKeyword",t)}},getOperatorTsc:{get(){return 2===this.getInputKeyword.tsc},set(t){this.getInputKeyword.tsc=t?2:1}},useOpLength(){return 3===this.getInputKeyword.op},getSgOpts(){const t=this.availableSgGrp?this.availableSgGrp.split(","):[],e=this.getSgSeqs.map((e=>{const s=structuredClone(e);return s.disabled=!t.includes(String(e.code)),s}));return e}},created(){},mounted(){},methods:{}},o=n,l=s(3483),c=(0,l.Z)(o,i,a,!1,null,null,null),d=c.exports},696:function(t,e,s){s.r(e),s.d(e,{default:function(){return m}});var i=function(){var t=this,e=t._self._c;return e("div",[e("CompGroupManage",{attrs:{item:t.userGrpList},on:{fetchUserGrp:t.fetchUserGrp}}),e("AsideBox",{ref:"asidebox",staticClass:"ui-loader-container",class:{"is-loading":t.loading}},[e("template",{slot:"title"},[e("h3",[t._v(" 사용자 "),t.isEdit?[t._v(" 수정 ")]:[t._v("등록")]],2),e("transition",{attrs:{name:"fade_posx_reverse"}},[t.isEdit?e("comp-button",{staticClass:"btn_regist is-small",on:{click:function(e){return t.$emit("edit",{})}}},[e("span",{staticClass:"txt"},[t._v("사용자 등록")])]):t._e()],1)],1),e("template",{slot:"content"},[e("fieldset",[e("strong",{class:{required:!t.isEdit}},[t._v("사용자 그룹")]),e("div",[e("comp-selectbox",{staticClass:"is-small",attrs:{opts:t.getUserGrpList,"not-selected-label":"사용자 그룹을 선택하세요."},model:{value:t.inputItem.user_grp,callback:function(e){t.$set(t.inputItem,"user_grp",e)},expression:"inputItem.user_grp"}})],1),e("strong",{class:{required:!t.isEdit}},[e("comp-bubble-box",{staticClass:"is-validation",attrs:{content:t.getIdWarning,"show-fixed":t.getIdWarning.length>0&&t.inputItem.id.length,pos:"LB"}},[e("span",[t._v("아이디")])])],1),e("div",[t.isEdit?e("strong",{staticClass:"ui-ellipsis"},[t._v(" "+t._s(t.inputItem.id)+" ")]):e("span",{staticClass:"input-with-btn-box"},[e("comp-input-box",{staticClass:"is-small",attrs:{placeholder:"사용자 아이디",focusResetVisible:""},on:{input:function(e){t.validation.duplicate=null}},model:{value:t.inputItem.id,callback:function(e){t.$set(t.inputItem,"id",e)},expression:"inputItem.id"}}),e("comp-button",{staticClass:"is-small",attrs:{disabled:!t.inputItem.id.trim().length},on:{click:t.checkDuplicate}},[e("span",{staticClass:"txt"},[t._v("중복검사")])])],1)]),e("strong",{class:{required:!t.isEdit}},[e("comp-bubble-box",{staticClass:"is-validation",attrs:{content:t.getPasswordWarning,"show-fixed":t.getPasswordWarning.length>0&&t.showWarning,pos:"LB"}},[e("span",[t._v("비밀번호")])])],1),e("div",[e("comp-input-box",{staticClass:"is-small",attrs:{type:"password",placeholder:"사용자 비밀번호",focusResetVisible:""},model:{value:t.inputItem.password,callback:function(e){t.$set(t.inputItem,"password",e)},expression:"inputItem.password"}})],1),e("strong",{class:{required:!t.isEdit}},[t._v("이름")]),e("div",[t.isEdit?e("strong",{staticClass:"ui-ellipsis"},[t._v(t._s(t.inputItem.name))]):e("comp-input-box",{staticClass:"is-small",attrs:{placeholder:"사용자 이름",focusResetVisible:""},on:{blur:function(e){t.inputItem.name=t.inputItem.name.trim()}},model:{value:t.inputItem.name,callback:function(e){t.$set(t.inputItem,"name",e)},expression:"inputItem.name"}})],1),e("strong",[t._v("직급")]),e("div",[e("comp-input-box",{staticClass:"is-small",attrs:{placeholder:"사용자 직급",focusResetVisible:"",autocomplete:t.rankList},model:{value:t.inputItem.rank,callback:function(e){t.$set(t.inputItem,"rank",e)},expression:"inputItem.rank"}})],1),e("strong",[t._v("부서")]),e("div",[e("comp-input-box",{staticClass:"is-small",attrs:{placeholder:"사용자 부서",focusResetVisible:"",autocomplete:t.getDeptList},model:{value:t.inputItem.dept,callback:function(e){t.$set(t.inputItem,"dept",e)},expression:"inputItem.dept"}})],1),e("strong",[t._v("핸드폰")]),e("div",[e("comp-input-box",{staticClass:"is-small",attrs:{placeholder:"000-0000-0000",focusResetVisible:"",maxlength:13},on:{input:t.parseMobile,blur:t.parseMobile},model:{value:t.inputItem.mobile,callback:function(e){t.$set(t.inputItem,"mobile",e)},expression:"inputItem.mobile"}})],1),e("strong",[t._v("E-mail")]),e("div",[e("comp-input-box",{staticClass:"is-small",attrs:{placeholder:"사용자 E-mail",focusResetVisible:""},model:{value:t.inputItem.email,callback:function(e){t.$set(t.inputItem,"email",e)},expression:"inputItem.email"}})],1)]),e("div",{staticClass:"btn_box"},[e("transition",{attrs:{name:"fade_posx"}},[t.isEdit?e("comp-button",{staticClass:"is-large",attrs:{customColor:"#ff0000",title:"삭제"},on:{click:function(e){return t.$emit("delete",t.editItem)}}},[e("span",{staticClass:"txt"},[t._v("삭제")])]):t._e()],1),e("comp-button",{staticClass:"is-large",attrs:{title:"초기화"},on:{click:t.resetInput}},[e("span",{staticClass:"txt"},[t._v("초기화")])]),e("comp-button",{staticClass:"is-color-hl is-large",attrs:{disabled:!t.isVaild,title:"저장"},on:{click:t.saveInputItem}},[e("span",{staticClass:"txt"},[t._v("저장")])])],1)])],2)],1)},a=[],r=(s(823),s(5791),s(9362)),n=s(4798),o=s(2378),l=s(7186),c={name:"comp-aside-member",components:{AsideBox:n.Z,CompGroupManage:o["default"]},data(){return{apiUID:r.V.v4(),loading:!1,inputItem:{seq:"",user_grp:"",id:"",password:"",name:"",rank:"",dept:"",mobile:"",email:""},init:{seq:"",user_grp:"",id:"",password:"",name:"",rank:"",dept:"",mobile:"",email:""},validation:{duplicate:null,password:!1},showWarning:!1}},props:{userGrpList:{type:Array,required:!0},deptList:{type:Array,required:!0},rankList:{type:Array,required:!0},editItem:{type:Object}},watch:{editItem:{deep:!0,handler(){this.resetInput()}}},computed:{isEdit(){return Object.keys(this.editItem).length>0},getUserGrpList(){const t=this.userGrpList?.flatten();return t},getDeptList(){const t=this.deptList.exptAttr({name:"부서없음"});return t.length?t:null},getIdWarning(){let t="";return this.isEdit||(null===this.validation.duplicate?t="중복 아이디 검사를 진행하세요.":!1===this.validation.duplicate&&(t="이미 사용된 아이디입니다.")),t},getPasswordWarning(){let t="4글자 이상 입력하세요.";return this.isEdit&&!this.inputItem.password.length||this.inputItem.password.length>=4?(t="",this.setPasswordValidation(!0)):this.setPasswordValidation(!1),t},isVaild(){let t=!0;return this.inputItem.user_grp&&this.inputItem.name.trim()||(t=!1),t}},methods:{fetchUserGrp(){this.$emit("fetchUserGrp")},fetchDatas(){this.$emit("fetchDatas")},resetInput(){if(this.isEdit){const t={seq:this.editItem.seq,user_grp:this.editItem.user_grp,id:this.editItem.user_grp,password:"",name:this.editItem.name,rank:this.editItem.rank||"",dept:this.editItem.dept||"",mobile:this.editItem.mobile||"",email:this.editItem.email||""};this.inputItem=structuredClone(t),this.validation.duplicate=!0,this.validation.password=!0}else this.inputItem=structuredClone(this.init),this.validation.duplicate=null,this.validation.password=!1},parseMobile(){const t=this.inputItem.mobile.trim().replaceAll(/[^0-9]/g,"").replaceAll(/^(\d{0,3})(\d{0,4})(\d{0,4})$/g,"$1-$2-$3").replace(/(-{1,2})$/g,"");setTimeout((()=>{this.inputItem.mobile=t}))},setPasswordValidation(t){this.validation.password=t},async checkDuplicate(){const t=this.inputItem.id.trim();t.length&&(this.loading=!0,await(0,l.wf)(this.apiUID,{id:t}).then((t=>{const e=t.data?.result?.duplicate;this.validation.duplicate=!0!==e})).finally((()=>{this.loading=!1})))},async saveInputItem(){const t=Object.values(this.validation).every((t=>t));if(!t)return void(this.showWarning=!0);this.loading=!0;const e={type:this.isEdit?"u":"i",...this.inputItem};this.isEdit?(delete e.id,""===e.password&&delete e.password):delete e.seq,await(0,l.pQ)(this.apiUID,e).then((()=>{this.$store.dispatch("NOTY_COM",`사용자 ${this.isEdit?"수정":"등록"}을 성공했습니다.`),this.fetchDatas()})).catch((()=>{this.$store.dispatch("NOTY_ERR",`사용자 ${this.isEdit?"수정":"등록"}을 실패했습니다.`)})).finally((()=>{this.showWarning=!1,this.loading=!1}))}}},d=c,p=s(3483),u=(0,p.Z)(d,i,a,!1,null,"4cb4cc12",null),m=u.exports},2378:function(t,e,s){s.r(e),s.d(e,{default:function(){return m}});var i=function(){var t=this,e=t._self._c;return e("AsideBox",[e("template",{slot:"title"},[e("h3",[t._v("사용자 그룹")]),e("div",{staticClass:"rc"},[e("CompItemAddMdfy",{attrs:{id:"category_add",type:"add"},on:{itemAdd:t.addItem}})],1)]),e("template",{slot:"content"},[e("div",{staticClass:"category ui-loader-container",class:{"is-loading":t.loading}},[e("comp-list",{staticClass:"list list_wrap",scopedSlots:t._u([{key:"default",fn:function(){return t._l(t.item,(function(s){return e("CompItemAddMdfy",{key:s.seq,staticClass:"is-draggable",class:`item_lv_${s.use_level}`,attrs:{id:`category_mdfy_${s.code}`,type:"mdfy",item:s},on:{itemMdfy:t.editItem,itemRemove:t.deleteItem,itemAdd:t.addItem2nd}})}))},proxy:!0}])})],1)])],2)},a=[],r=s(9362),n=s(8813),o=(s(8501),s(4798)),l=s(8482),c={name:"comp-group_manage",extends:n.Z,components:{AsideBox:o.Z},data(){return{apiUID:r.V.v4(),loading:!1,inputName:""}},props:{item:{type:Array,required:!0}},computed:{},methods:{async addItem(t,e){if(!t.name.trim().length)return;this.loading=!0;const s={type:"i",level:2,cmm_type:6,name:t.name};e&&(s.code=e),await(0,l.a)(this.apiUID,s).then((()=>{this.$store.dispatch("NOTY_COM","그룹 추가를 성공했습니다.")})).catch((()=>{this.$store.dispatch("NOTY_ERR","그룹 추가를 실패했습니다.")})).finally((()=>{this.loading=!1,this.$emit("fetchUserGrp")}))},addItem2nd(t){this.addItem(t,t.code)},async editItem(t){if(!t.name.trim())return;this.loading=!0;const e={type:"u",level:2,seq:t.seq,name:t.name,color:t.color||""};await(0,l.a)(this.apiUID,e).then((()=>{this.$store.dispatch("NOTY_COM","그룹 수정을 성공했습니다.")})).catch((()=>{this.$store.dispatch("NOTY_ERR","그룹 수정을 실패했습니다.")})).finally((()=>{this.loading=!1,this.$emit("fetchUserGrp")}))},deleteItem(t){const e=t?.cnt?`사용자 그룹 <strong>[${t.name}]</strong>에 <strong>${t?.cnt}명</strong>의 사용자가 있습니다.<br>\n            <span style="color:red">삭제할 경우 사용자도 함께 삭제 됩니다.</span><br>\n            삭제하시겠습니까?`:`사용자 그룹 <strong>[${t.name}]</strong>을/를 삭제하시겠습니까?`;this.$store.dispatch("DIALOG_WRN",[e,"사용자 그룹 삭제",2]).then((async()=>{this.loading=!0;const e={type:"d",level:2,seq:t.seq};await(0,l.a)(this.apiUID,e).then((()=>{this.$store.dispatch("NOTY_COM","그룹 삭제를 성공했습니다.")})).catch((()=>{this.$store.dispatch("NOTY_ERR","그룹 삭제를 실패했습니다.")})).finally((()=>{this.loading=!1,this.$emit("fetchUserGrp")}))})).catch((()=>{}))}}},d=c,p=s(3483),u=(0,p.Z)(d,i,a,!1,null,"0f522fe0",null),m=u.exports},9683:function(t,e,s){s.r(e),s.d(e,{default:function(){return c}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"ui_box ui-loader-container",class:{"is-loading":t.loading}},[e("div",{staticClass:"ui_function is-box-large is-fixed"},[e("div",{staticClass:"lc"},[e("comp-button",{on:{click:t.clickRegist}},[e("span",{staticClass:"txt ui-ellipsis"},[t._v("사용자 등록")])])],1),e("div",{staticClass:"rc"},[e("comp-input-box",{staticStyle:{width:"500px"},attrs:{id:"brd_searchKeyword",type:"search",placeholder:"이름, 아이디, 연락처, 이메일 검색",focusResetVisible:""},on:{search:t.searchKeyword},model:{value:t.brdOpts.input_search_keyword,callback:function(e){t.$set(t.brdOpts,"input_search_keyword",e)},expression:"brdOpts.input_search_keyword"}})],1)]),e("div",{staticClass:"content"},[e("div",{staticClass:"ui_brd"},[e("div",{staticClass:"infos"},[e("div",{staticClass:"lc"},[e("div",{staticClass:"page_info"},[e("span",[t._v("총 "),e("strong",[t._v(t._s(t.getBrdDatas.length.lengthLimitComma(0)))]),t._v(" 건")])])]),e("div",{staticClass:"rc"},[e("comp-filter-grp",{attrs:{pos:"BR"},scopedSlots:t._u([{key:"custom",fn:function(){return[e("comp-button",{staticClass:"is-small is-icon-only"},[e("span",{staticClass:"icon"},[t._v("")])])]},proxy:!0},{key:"items",fn:function(){return[e("dl",[e("dt",[e("strong",[t._v("노출필드")]),e("comp-button",{staticClass:"is-small is-icon-only",staticStyle:{"margin-left":"4px"},on:{click:t.resetColOpts}},[e("span",{staticClass:"icon"},[t._v("")])])],1),e("dd",t._l(Object.keys(t.getSaveColOpts),(function(s){return e("dl",{key:s},[e("dt",[t._v(t._s(t.colOpts.getParseDatas({code:s})[0]?.name))]),e("dd",[e("comp-switch-btn",{staticClass:"is-small",attrs:{id:`${s}_switch`},model:{value:t.getSaveColOpts[s],callback:function(e){t.$set(t.getSaveColOpts,s,e)},expression:"getSaveColOpts[item]"}})],1)])})),0)])]},proxy:!0}])})],1)]),e("div",{staticClass:"wrap"},[e("table",[e("colgroup",[t.getSaveColOpts.user_grp?e("col",{staticStyle:{width:"130px"}}):t._e(),t.getSaveColOpts.id?e("col",{staticStyle:{width:"130px"}}):t._e(),t.getSaveColOpts.name?e("col",{staticStyle:{width:"100px"}}):t._e(),t.getSaveColOpts.dept?e("col",{staticStyle:{width:"130px"}}):t._e(),t.getSaveColOpts.mobile?e("col",{staticStyle:{width:"130px"}}):t._e(),t.getSaveColOpts.email?e("col",{staticStyle:{width:"180px"}}):t._e(),t.getSaveColOpts.reg_date?e("col",{staticStyle:{width:"102px"}}):t._e(),e("col",{staticStyle:{width:"40px"}})]),e("thead",{staticClass:"is-fixed"},[e("tr",[t.getSaveColOpts.user_grp?e("th",[e("comp-table-filter",{attrs:{id:"table_filter_user_grp",name:"사용자그룹",opts:t.userGrpList,multi:!0,labelVisibleNum:1},model:{value:t.brdOpts.user_grp,callback:function(e){t.$set(t.brdOpts,"user_grp",e)},expression:"brdOpts.user_grp"}})],1):t._e(),t.getSaveColOpts.id?e("th",[e("strong",[t._v("아이디")]),e("comp-table-sort",{attrs:{id:"id",name:"orderColumn","min-one-value":""},model:{value:t.brdOpts.order,callback:function(e){t.$set(t.brdOpts,"order",e)},expression:"brdOpts.order"}})],1):t._e(),t.getSaveColOpts.name?e("th",[e("strong",[t._v("이름")]),e("comp-table-sort",{attrs:{id:"name",name:"orderColumn","min-one-value":""},model:{value:t.brdOpts.order,callback:function(e){t.$set(t.brdOpts,"order",e)},expression:"brdOpts.order"}})],1):t._e(),t.getSaveColOpts.dept?e("th",[e("comp-table-filter",{attrs:{id:"table_filter_dept",name:"부서",opts:t.deptList,multi:!0,labelVisibleNum:1},model:{value:t.brdOpts.dept,callback:function(e){t.$set(t.brdOpts,"dept",e)},expression:"brdOpts.dept"}})],1):t._e(),t.getSaveColOpts.mobile?e("th",[e("strong",[t._v("연락처")])]):t._e(),t.getSaveColOpts.email?e("th",[e("strong",[t._v("E-Mail")])]):t._e(),t.getSaveColOpts.reg_date?e("th",[e("strong",[t._v("등록일")]),e("comp-table-sort",{attrs:{id:"reg_date",name:"orderColumn","min-one-value":""},model:{value:t.brdOpts.order,callback:function(e){t.$set(t.brdOpts,"order",e)},expression:"brdOpts.order"}})],1):t._e(),t._m(0)])]),t.getBrdDatas.length>0?e("tbody",[t._l(t.getBrdDatas,(function(s){return e("tr",{key:"brd_"+s.seq,class:{"is-selected":t.editItem?.seq===s.seq},on:{click:function(e){return t.setEditItem(s)}}},[t.getSaveColOpts.user_grp?e("td",[e("span",{staticClass:"ui_fc_dm"},[t._v(t._s(t.userGrpList.getParseDatas({code:s.user_grp}).arrObjAttrToStr("name")))])]):t._e(),t.getSaveColOpts.id?e("td",[t.brdOpts.search_keyword?e("span",{staticClass:"ui_fc_dm",domProps:{innerHTML:t._s(t.parseHighlightWords(s.id))}}):e("span",{staticClass:"ui_fc_dm"},[t._v(t._s(s.id))])]):t._e(),t.getSaveColOpts.name?e("td",[t.brdOpts.search_keyword?e("strong",{domProps:{innerHTML:t._s(t.parseHighlightWords(s.name))}}):e("strong",[t._v(t._s(s.name))])]):t._e(),t.getSaveColOpts.dept?e("td",[e("span",{staticClass:"ui_fc_dm"},[t._v(t._s(s.dept))])]):t._e(),t.getSaveColOpts.mobile?e("td",[t.brdOpts.search_keyword?e("span",{staticClass:"ui_fc_dm",domProps:{innerHTML:t._s(t.parseHighlightWords(s.mobile))}}):e("span",{staticClass:"ui_fc_dm"},[t._v(t._s(s.mobile))])]):t._e(),t.getSaveColOpts.email?e("td",[t.brdOpts.search_keyword?e("span",{staticClass:"ui_fc_dm",domProps:{innerHTML:t._s(t.parseHighlightWords(s.email))}}):e("span",{staticClass:"ui_fc_dm"},[t._v(t._s(s.email))])]):t._e(),t.getSaveColOpts.reg_date?e("td",[e("span",{staticClass:"ui_fc_dm"},[t._v(t._s(s.reg_date.dateToStr()))])]):t._e(),e("td",[e("comp-button",{staticClass:"is-xsmall is-icon-only",on:{click:function(e){return e.stopPropagation(),t.$emit("delete",s)}}},[e("span",{staticClass:"icon"},[t._v("")])])],1)])})),t.getBrdDatas.length<10?t._l(Math.abs(10-t.getBrdDatas.length),(function(s){return e("tr",{key:"brd_2_"+s},[e("td",{staticClass:"is-no-over",attrs:{colspan:t.getColCnt}})])})):t._e()],2):e("tbody",[t._l(Math.floor(4.5),(function(s){return e("tr",{key:`empty_t${s}`,staticClass:"is-no-over"},[e("td",{staticClass:"is-no-over",attrs:{colspan:t.getColCnt}})])})),e("tr",{staticClass:"is-no-over"},[e("td",{staticClass:"is-no-over no_data in_list",attrs:{colspan:t.getColCnt}},[e("span",{staticClass:"ui_no_data_txt"},[t._v("데이터가 없습니다.")])])]),t._l(Math.ceil(4.5),(function(s){return e("tr",{key:`empty_b${s}`,staticClass:"is-no-over"},[e("td",{staticClass:"is-no-over",attrs:{colspan:t.getColCnt}})])}))],2)])])])])])},a=[function(){var t=this,e=t._self._c;return e("th",[e("strong",[t._v("삭제")])])}],r={name:"comp-member-list",data(){return{loading:!1,brdOpts:{search_keyword:"",input_search_keyword:"",order:"reg_date^D",user_grp:"",dept:""},colOpts:[{code:"user_grp",name:"사용자 그룹"},{code:"id",name:"아이디"},{code:"name",name:"이름"},{code:"dept",name:"부서명"},{code:"mobile",name:"핸드폰"},{code:"email",name:"이메일"},{code:"reg_date",name:"등록일"}]}},props:{savePersonalization:{type:Object,required:!0},dataList:{type:Array,required:!0},userGrpList:{type:Array,required:!0},deptList:{type:Array,required:!0},editItem:{type:Object}},watch:{userGrpList:{deep:!0,handler(t){this.brdOpts.user_grp=t.arrObjAttrToStr("code")}},deptList:{deep:!0,handler(t){this.brdOpts.dept=t.arrObjAttrToStr("code")}}},computed:{getSavePersonalization:{get(){return this.savePersonalization},set(t){this.$emit("update:savePersonalization",t)}},getSaveColOpts(){return this.getSavePersonalization.main.data_list.colOpts},getColCnt(){return Object.values(this.getSaveColOpts).filter((t=>t)).length+1},getBrdDatas(){this.setEditItem({});const t=this.brdOpts.dept.split(","),e=this.brdOpts.user_grp.split(",");let s=[];this.dataList.forEach((i=>{""===i.dept&&(i.dept=null),t.includes(String(i.dept))&&e.includes(String(i.user_grp))&&(this.brdOpts.search_keyword?["name","id","mobile","email"].forEach((t=>{if(i[t]){const e=i[t].match(new RegExp(this.brdOpts.search_keyword,"gi"));e&&s.addItem(i)}})):s.addItem(i))}));const i=this.brdOpts.order.split("^");return s.sort(((t,e)=>{const s=t[i[0]],a=e[i[0]];if("D"===i[1]){if(s<a)return 1;if(s===a)return 0;if(s>a)return-1}else if("A"===i[1]){if(s>a)return 1;if(s===a)return 0;if(s<a)return-1}})),s}},methods:{clickRegist(){document.querySelector("aside").classList.contains("is-closed")&&document.querySelector(".resizer button").click(),this.setEditItem({})},resetColOpts(){Object.keys(this.getSaveColOpts).forEach((t=>{this.getSaveColOpts[t]=!0}))},setEditItem(t){Object.keys(t).length&&JSON.stringify(t)===JSON.stringify(this.editItem)?this.$emit("edit",{}):this.$emit("edit",t)},searchKeyword(){this.brdOpts.input_search_keyword=this.brdOpts.input_search_keyword.trim(),this.brdOpts.search_keyword=this.brdOpts.input_search_keyword},parseHighlightWords(t){const e=this.brdOpts.search_keyword;if(e.trim().length&&t){const s=new RegExp(e,"gi");t=String(t).replace(s,(t=>`<span class="is-hl-inputkeyword">${t}</span>`))}return t||""}}},n=r,o=s(3483),l=(0,o.Z)(n,i,a,!1,null,"7b3bed67",null),c=l.exports},1042:function(t,e,s){s.r(e),s.d(e,{default:function(){return g}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"all_site ui_box ui-loader-container",class:{"is-loading":t.loading}},[e("Controller",{attrs:{type:"register",amount:t.selected.length,disabled:t.disabledController},on:{clickDeselect:t.evtClickDeselect,clickController:t.evtClickController}}),e("div",{staticClass:"ui_function"},[e("div",{staticClass:"lc"},[e("comp-selectbox",{staticClass:"is-small",attrs:{id:"lang_select",opts:t.getLangOpts,"not-selected-label":"언어"},model:{value:t.language,callback:function(e){t.language=e},expression:"language"}}),e("comp-selectbox",{staticClass:"is-small",attrs:{id:"sort_select",opts:t.sort.opts,"not-selected-label":"정렬"},model:{value:t.sort.value,callback:function(e){t.$set(t.sort,"value",e)},expression:"sort.value"}})],1),e("div",{staticClass:"rc"},[e("comp-input-box",{staticClass:"is-small",attrs:{id:"all_site_search",type:"search",placeholder:"코드, 사이트명, URL"},on:{search:t.evtSearch},model:{value:t.searchKeyword,callback:function(e){t.searchKeyword=e},expression:"searchKeyword"}})],1)]),e("div",{staticClass:"contents"},[t.useSiteList.length>0?e("comp-list",{staticClass:"site_list",staticStyle:{width:"100%",height:"100%"},attrs:{id:"all_site_list",datas:t.useSiteList,component:t.compItem,selectable:t.selectable,keeps:50,estimateSize:30},on:{selectedUpdate:t.evtSelected}}):e("div",{staticClass:"site_list no_data"},[e("span",{staticClass:"ui_no_data_txt"},[t._v("데이터가 없습니다.")])])],1)],1)},a=[],r=(s(823),s(5791),s(9362)),n=s(8885),o=s(5458),l=s(1809),c=s(7693);function d(t,e){const s=(0,c.dD)("/api/admin/site/?cmd=SA",e);return(0,l.Z)({id:t,url:s.path,method:"post",data:s.data})}var p=s(7965),u={name:"comp-all-site",components:{Controller:o["default"]},data(){return{apiUID:r.V.v4(),loading:!1,compItem:n["default"],language:"",sort:{value:"",opts:[{code:"",name:"정렬"},{code:"s_seq",name:"최신순"},{code:"name",name:"사이트명"}]},searchKeyword:"",originSiteList:[],useSiteList:[],selected:[],selectable:!0,disabledController:!1}},props:{activeGrp:{type:Object,default:null}},computed:{getLangOpts(){const t=[...new Set(this.originSiteList.map((t=>t.lang)))],e=t.map((t=>({code:t,name:t})));return[{code:"",name:"언어"},...e]}},created(){},mounted(){this.fetchSiteList()},watch:{activeGrp:{deep:!0,handler(t){"all"===t.grp?this.disabledController=!0:this.selected.length>0&&(this.disabledController=!1)}},selected:{immediate:!0,deep:!0,handler(t){t.length?"all"!==this.activeGrp.grp&&(this.disabledController=!1):this.disabledController=!0}},language(t){this.getSiteList()},"sort.value":function(t){this.getSiteList()}},methods:{async evtClickController(){const t=this.selected.arrObjAttrToStr("s_seq"),e={type:"i",grp:parseInt(this.activeGrp.grp),s_seq:t};this.loading=!0,await(0,p.c3)(this.apiUID,e).then((t=>{})).catch((t=>{})).finally((()=>{this.loading=!1}))},async fetchSiteList(){this.loading=!0,await d(this.apiUID).then((t=>{this.originSiteList=structuredClone(t.data.result.list),this.getSiteList()})).catch((t=>{})).finally((()=>{this.loading=!1}))},getSiteList(){let t=structuredClone(this.originSiteList);if(this.sort.value?t.sort(((t,e)=>"s_seq"===this.sort.value?parseInt(e.s_seq)-parseInt(t.s_seq):"name"===this.sort.value?t.name.localeCompare(e.name,"ko"):0)):t.sort(((t,e)=>parseInt(t.s_seq)-parseInt(e.s_seq))),this.searchKeyword){const e=new RegExp(this.searchKeyword,"i");t=t.filter((t=>e.test(t.s_seq)||e.test(t.name)||e.test(t.url)))}this.useSiteList=this.language?t.filter((t=>t.lang===this.language)):t},evtSelected(t){this.selected=[...t]},evtSearch(t){if(t){const e=new RegExp(t,"i");this.useSiteList=this.useSiteList.filter((t=>e.test(t.s_seq)||e.test(t.name)||e.test(t.url)))}else this.getSiteList()},evtClickDeselect(){this.selected=[],this.selectable=!1,setTimeout((()=>{this.selectable=!0}),0)}}},m=u,h=s(3483),_=(0,h.Z)(m,i,a,!1,null,"602e5965",null),g=_.exports},2179:function(t,e,s){s.r(e),s.d(e,{default:function(){return h}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"collect_site ui_box ui-loader-container",class:{"is-loading":t.loading}},[e("Controller",{attrs:{type:"exception",amount:t.selected.length,disabled:t.disabledController},on:{clickDeselect:t.evtClickDeselect}}),e("div",{staticClass:"ui_function"},[e("div",{staticClass:"lc"},[e("comp-selectbox",{staticClass:"is-small",attrs:{id:"lang_select",opts:t.getLangOpts,"not-selected-label":"언어"},model:{value:t.language,callback:function(e){t.language=e},expression:"language"}})],1),e("div",{staticClass:"rc"},[e("comp-input-box",{staticClass:"is-small",attrs:{id:"all_site_search",type:"search",placeholder:"코드, 사이트명, URL"},on:{search:t.evtSearch},model:{value:t.searchKeyword,callback:function(e){t.searchKeyword=e},expression:"searchKeyword"}})],1)]),e("div",{ref:"collectSiteContent",staticClass:"contents"},[e("div",{staticClass:"user_group_wrap"},[e("comp-list",{staticClass:"user_group",attrs:{id:"collect_user_group",datas:t.useGrpList,component:t.compGroupItem},on:{click:t.evtClickGrpItem,remove:t.evtDeleteGrp,confirm:t.evtModifyGrp}}),e("comp-filter-grp",{ref:"addGrp",staticClass:"add_group_btn",attrs:{getNoIconWrapPos:t.addGrpWrapPos,confirmLabel:"추가",disableConfirmBtn:!t.addGrpName.length},on:{open:t.hndlOpenAddGrp,confirm:t.evtClickGrpAddBtn,cancel:function(e){t.addGrpName=""}},scopedSlots:t._u([{key:"custom",fn:function(){return[t._v("그룹 추가")]},proxy:!0},{key:"items",fn:function(){return[e("dl",[e("dt",[e("strong",[t._v("그룹명")])]),e("dd",[e("comp-input-box",{ref:"inputBox",staticClass:"is-small",staticStyle:{width:"170px"},attrs:{placeholder:"그룹명 입력"},model:{value:t.addGrpName,callback:function(e){t.addGrpName=e},expression:"addGrpName"}})],1)])]},proxy:!0}])})],1),[t.useSiteList?.length>0?e("comp-list",{staticClass:"site_list",attrs:{id:"collect_site_list",datas:t.useSiteList,component:t.compSiteItem,keeps:50,estimateSize:30,selectable:t.selectable},on:{selectedUpdate:t.evtSelected}}):e("div",{staticClass:"site_list no_data"},[e("span",{staticClass:"ui_no_data_txt"},[t._v("데이터가 없습니다.")])])]],2)],1)},a=[],r=(s(823),s(5791),s(9362)),n=s(8885),o=s(8318),l=s(5458),c=s(7965),d={name:"comp-collect-site",components:{Controller:l["default"]},data(){return{apiUID:r.V.v4(),loading:!1,compSiteItem:n["default"],compGroupItem:o["default"],language:"",searchKeyword:"",originSiteList:[],useSiteList:[],useGrpList:[],selected:[],selectable:!0,activeGrpItem:{grp:"all",name:"전체"},addGrpName:"",addGrpWrapPos:{},disabledController:!1}},computed:{getLangOpts(){const t=[...new Set(this.originSiteList.map((t=>t.lang)))],e=t.map((t=>({code:t,name:t})));return[{code:"",name:"언어"},...e]}},created(){},mounted(){this.fetchGroupList()},watch:{language(t){this.getSiteList()},activeGrpItem:{immediate:!0,deep:!0,handler(t){this.$emit("activeGrp",t),this.getSiteList(),this.selected=[],this.selectable=!1,setTimeout((()=>{this.selectable=!0}),0)}},selected:{immediate:!0,deep:!0,handler(t){t.length?this.disabledController=!1:this.disabledController=!0}}},methods:{async fetchGroupList(t){this.loading=!0,await(0,c.U7)(this.apiUID).then((t=>{let e=structuredClone(t.data.result.list);e.sort(((t,e)=>parseInt(t.grp)-parseInt(e.grp))),this.useGrpList=[{grp:"all",name:"전체"},...e]})).catch((t=>{})).finally((()=>{this.fetchSiteList(t)}))},async fetchSiteList(t){await(0,c.sv)(this.apiUID).then((e=>{this.originSiteList=structuredClone(e.data.result.list),this.parsingGrpList(t),this.getSiteList()})).catch((t=>{})).finally((()=>{this.loading=!1}))},async evtClickGrpAddBtn(){const t={type:"i",gr_name:this.addGrpName};await(0,c.Sj)(this.apiUID,t).then((t=>{this.fetchGroupList("add")})).catch((t=>{})).finally((()=>{this.getSiteList()}))},async evtModifyGrp(t){const e={type:"u",grp:parseInt(t.grp),gr_name:t.name};await(0,c.Sj)(this.apiUID,e).then((t=>{this.fetchGroupList("modify")})).catch((t=>{})).finally((()=>{this.getSiteList()}))},async evtDeleteGrp(t){const e={type:"d",grp:parseInt(t.grp)};await(0,c.Sj)(this.apiUID,e).then((t=>{this.fetchGroupList("delete")})).catch((t=>{})).finally((()=>{}))},getSiteList(){let t=structuredClone(this.originSiteList),e="all"===this.activeGrpItem.grp?t:t.filter((t=>this.activeGrpItem.grp===t.grp));if(this.searchKeyword){const t=new RegExp(this.searchKeyword,"i");e=e.filter((e=>t.test(e.s_seq)||t.test(e.name)||t.test(e.url)))}this.useSiteList=this.language?e.filter((t=>t.lang===this.language)):e},parsingGrpList(t){const e=structuredClone(this.useGrpList);e.forEach(((s,i)=>{if("all"===s.grp?(s.site=this.originSiteList,s.isActive=!0):s.site=this.originSiteList.filter((t=>String(t.grp)===String(s.grp))),t)switch(t){case"add":i==e.length-1?(s.isActive=!0,this.activeGrpItem=s):s.isActive=!1;break;case"delete":"all"===s.grp?(s.isActive=!0,this.activeGrpItem=s):s.isActive=!1;break;case"modify":this.activeGrpItem.grp===s.grp?(s.isActive=!0,this.activeGrpItem=s):s.isActive=!1;break}})),this.useGrpList=e},evtClickGrpItem(t){const e=structuredClone(this.useGrpList);e.forEach((e=>{e.grp===t.grp?e.isActive=!0:e.isActive=!1})),this.useGrpList=e,this.activeGrpItem=t},hndlOpenAddGrp(){const t=this.$refs.addGrp?.$el.getBoundingClientRect();this.addGrpWrapPos={top:parseInt(t.top)+"px",left:parseInt(t.left)+"px",marginTop:-(2*t.height+45)+"px",marginLeft:-parseInt(t.width)+"px"}},evtSearch(t){if(t){const e=new RegExp(t,"i");this.useSiteList=this.useSiteList.filter((t=>e.test(t.s_seq)||e.test(t.name)||e.test(t.url)))}else this.getSiteList()},evtClickDeselect(){this.selected=[],this.selectable=!1,setTimeout((()=>{this.selectable=!0}),0)},evtSelected(t){this.selected=[...t]}}},p=d,u=s(3483),m=(0,u.Z)(p,i,a,!1,null,"ae682606",null),h=m.exports},5458:function(t,e,s){s.r(e),s.d(e,{default:function(){return c}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"controller",class:{"is-register":"register"===t.type,"is-exception":"exception"===t.type},attrs:{disabled:t.disabled}},[e("button",{staticClass:"wrap",attrs:{disabled:t.disabled},on:{click:t.evtClick}},[e("span",{staticClass:"title"},[t._v(t._s("register"===t.type?"수집 등록":"수집 제외"))]),e("span",{staticClass:"amount"},[e("strong",[t._v(t._s(parseInt(t.amount).addComma()))]),t._v("개")]),e("span",{staticClass:"badge",class:{"is-register":"register"===t.type,"is-exception":"exception"===t.type}},[t._v(t._s(t.disabled?"불가능":"가능"))]),e("span",{staticClass:"arrow_icon",class:{"is-register":"register"===t.type,"is-exception":"exception"===t.type}})]),e("comp-button",{staticClass:"is-small deselect_btn",on:{click:t.evtClickDeselect}},[e("span",{staticClass:"is-txt"},[t._v("선택 취소")])])],1)},a=[],r={name:"comp-controller",data(){return{}},props:{type:{type:String,required:!0},amount:{type:Number,required:!0},disabled:{}},mounted(){},methods:{evtClickDeselect(){this.$emit("clickDeselect")},evtClick(){this.$emit("clickController")}}},n=r,o=s(3483),l=(0,o.Z)(n,i,a,!1,null,null,null),c=l.exports},8318:function(t,e,s){s.r(e),s.d(e,{default:function(){return c}});var i=function(){var t=this,e=t._self._c;return e("div",{ref:"grpItem",staticClass:"group_item",class:{"is-active":t.value.isActive},on:{dblclick:t.evtDbClick,click:t.evtClick}},[e("div",{staticClass:"wrap"},[e("span",{staticClass:"name"},[t._v(t._s(t.value.name))]),e("span",{staticClass:"amount"},[t._v(t._s(parseInt(t.value.site?.length).addComma()))])]),e("comp-filter-grp",{ref:"editGrpItem",staticClass:"edit_grp_item",attrs:{useBtns:!0,getNoIconWrapPos:t.grpItemPos,confirmLabel:"저장"},on:{confirm:t.evtClickSaveBtn},scopedSlots:t._u([{key:"custom",fn:function(){},proxy:!0},{key:"items",fn:function(){return[e("dl",[e("dt",[e("strong",[t._v("그룹명")])]),e("dd",[e("comp-input-box",{ref:"inputBox",staticClass:"is-small",staticStyle:{width:"170px"},attrs:{placeholder:"그룹명 입력"},on:{enter:t.evtEnter},model:{value:t.editName,callback:function(e){t.editName=e},expression:"editName"}})],1)])]},proxy:!0}])})],1)},a=[],r=(s(823),s(5791),{name:"comp-group-item",data(){return{isActiveIndex:0,editName:"",grpItemPos:{},disabledSaveBtn:!1}},props:{value:{},itemIndex:{}},computed:{},created(){this.editName=this.value.name},mounted(){},watch:{editName(t){t===this.value.name?this.disabledSaveBtn=!0:this.disabledSaveBtn=!1}},methods:{evtClick(t){this.$emit("click",this.value)},evtDbClick(t){"all"!==this.value.grp&&this.$refs.editGrpItem?.hndl_open(),this.getItemsWrapPos()},getItemsWrapPos(){const t=this.$refs.grpItem?.getBoundingClientRect();this.grpItemPos={top:parseInt(t.top)+"px",left:parseInt(t.left)+"px",marginLeft:-(t.width-20)+"px"}},evtEnter(){},evtClickCancelBtn(){this.$refs.editGrpItem?.hndl_close()},evtClickSaveBtn(){let t=structuredClone(this.value);t.name=this.editName,this.$emit("confirm",t)},evtClickDeleteBtn(){this.$store.dispatch("DIALOG_WRN",[`사이트 그룹 <strong>${this.value.name}</strong>에 <strong>${this.value.site?.length}</strong>개의 사이트가 등록되어 있습니다.<br/><span style="color: red">삭제할 경우 등록된 사이트도 같이 삭제 됩니다.</span><br/>삭제 하시겠습니까?`,"그룹 삭제",2]).then((t=>{this.$emit("remove",this.value)})).catch((t=>{}))}}}),n=r,o=s(3483),l=(0,o.Z)(n,i,a,!1,null,"3f7ab16c",null),c=l.exports},8885:function(t,e,s){s.r(e),s.d(e,{default:function(){return c}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"site_item"},[e("div",{staticClass:"seq"},[e("span",[t._v(t._s(t.value.s_seq))])]),t.value.gr_name?e("div",{staticClass:"grp_name"},[e("span",[t._v(t._s(t.value.gr_name))])]):t._e(),e("div",{staticClass:"site_name",class:{include_grp_name:t.value.gr_name}},[e("span",[t._v(t._s(t.value.name))])]),e("div",{staticClass:"url",class:{include_grp_name:t.value.gr_name}},[e("span",{staticClass:"status",class:{is_use:1==t.value.status,is_not_use:0==t.value.status}}),e("span",[t._v(t._s(t.value.url))])])])},a=[],r={name:"comp-site-item",data(){return{}},props:{value:{},itemIndex:{}},created(){},mounted(){},methods:{}},n=r,o=s(3483),l=(0,o.Z)(n,i,a,!1,null,"47ae2634",null),c=l.exports},4580:function(t,e,s){s.r(e),s.d(e,{default:function(){return p}});var i=function(){var t=this,e=t._self._c;return e("div",[e("AsideBox",{staticClass:"ui-loader-container",class:{"is-loading":t.loading}},[e("template",{slot:"title"},[e("h3",[t._v(" "+t._s(t.getTitle)+" ")]),e("transition",{attrs:{name:"fade_posx_reverse"}},[t.isEdit?e("comp-button",{staticClass:"btn_regist is-small",on:{click:function(e){return t.$emit("setEditItem",{})}}},[e("span",{staticClass:"txt"},[t._v("계정 등록")])]):t._e()],1)],1),e("template",{slot:"content"},[e("fieldset",[e("strong",{staticClass:"required"},[t._v("매체명")]),e("div",[e("comp-input-box",{staticClass:"is-small is-wid100p",attrs:{type:"text",placeholder:"매체명 입력",focusResetVisible:"",autocomplete:t.autocompleteList},model:{value:t.inputItem.site_name,callback:function(e){t.$set(t.inputItem,"site_name",e)},expression:"inputItem.site_name"}})],1),e("strong",{staticClass:"required"},[t._v("SNS 계정")]),e("div",[e("comp-selectbox",{staticClass:"is-small is-wid100p",attrs:{opts:t.snsList,"not-selected-label":"SNS 계정을 선택하세요."},model:{value:t.inputItem.sns_seq,callback:function(e){t.$set(t.inputItem,"sns_seq",e)},expression:"inputItem.sns_seq"}})],1),e("strong",{staticClass:"required"},[t._v("URL")]),e("div",[e("comp-input-box",{staticClass:"is-small is-wid100p",attrs:{type:"text",placeholder:"URL 입력",focusResetVisible:""},model:{value:t.inputItem.url,callback:function(e){t.$set(t.inputItem,"url",e)},expression:"inputItem.url"}})],1)]),e("div",{staticClass:"btn_box"},[e("transition",{attrs:{name:"fade_posx"}},[t.isEdit?e("comp-button",{staticClass:"is-large",attrs:{customColor:"#ff0000",title:"삭제"},on:{click:t.evt_remove}},[e("span",{staticClass:"txt"},[t._v("삭제")])]):t._e()],1),e("comp-button",{staticClass:"is-large",attrs:{title:"초기화"},on:{click:t.resetInput}},[e("span",{staticClass:"txt"},[t._v("초기화")])]),e("comp-button",{staticClass:"is-color-hl is-large",attrs:{disabled:!t.isVaild,title:"저장"},on:{click:t.evt_save}},[e("span",{staticClass:"txt"},[t._v("저장")])])],1)])],2)],1)},a=[],r=(s(823),s(5791),s(9362)),n=s(4798),o=(s(7186),{name:"comp-aside-member",components:{AsideBox:n.Z},data(){return{apiUID:r.V.v4(),loading:!1,inputItem:{seq:"",site_name:"",sns_seq:"",url:""},init:{seq:"",site_name:"",sns_seq:"",url:""},validation:{site_name:!1,sns_seq:!1,url:!1}}},props:{editItem:{type:Object},autocompleteList:{type:Array,default:new Array},snsList:{type:Array,default:new Array}},watch:{editItem:{deep:!0,handler(t){this.resetInput()}},inputItem:{deep:!0,handler(t){this.setValidation()}}},computed:{getTitle(){return"계정 "+(this.isEdit?"수정":"등록")},isEdit(){return Object.keys(this.editItem).length>0},isVaild(){return Object.values(this.validation).every((t=>t))}},methods:{setValidation(){this.isEdit?this.inputItem.site_name!=this.editItem.site_name||this.inputItem.sns_seq!=this.editItem.sns_seq||this.inputItem.url!=this.editItem.url?(this.validation.site_name=!0,this.validation.sns_seq=!0,this.validation.url=!0):(this.validation.site_name=!1,this.validation.sns_seq=!1,this.validation.url=!1):(this.validation.site_name=!!this.inputItem.site_name.trim().length,this.validation.sns_seq=!!this.inputItem.sns_seq.trim().length,this.validation.url=!!this.inputItem.url.trim().length)},resetInput(){if(this.isEdit){const t={seq:this.editItem.seq,site_name:this.editItem.site_name,sns_seq:this.editItem.sns_seq,url:this.editItem.url};this.inputItem=structuredClone(t)}else this.inputItem=structuredClone(this.init);this.validation={site_name:!1,sns_seq:!1,url:!1},this.setValidation()},evt_save(){this.$emit("update",{type:this.isEdit?"u":"i",...this.inputItem,sns_name:this.snsList.getParseDatas({code:this.inputItem.sns_seq})[0].name})},evt_remove(){this.$emit("update",{type:"d",seq:this.inputItem.seq})}}}),l=o,c=s(3483),d=(0,c.Z)(l,i,a,!1,null,"cf91aa24",null),p=d.exports},6358:function(t,e,s){s.r(e),s.d(e,{CompHeader:function(){return o},default:function(){return p}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"ui_box ui-loader-container",class:{"is-loading":t.loading}},[e("div",{staticClass:"ui_function is-box-large",class:{"is-lnb":t.getUseageLNB}},[e("div",{staticClass:"lc"},[e("comp-button",{on:{click:t.clickRegist}},[e("span",{staticClass:"txt ui-ellipsis"},[t._v("계정 등록")])])],1),e("div",{staticClass:"rc"},[e("comp-input-box",{staticStyle:{width:"500px"},attrs:{id:"brd_searchKeyword",type:"search",placeholder:"매체명 검색",focusResetVisible:""},on:{search:t.searchKeyword},model:{value:t.brdOpts.input_search_keyword,callback:function(e){t.$set(t.brdOpts,"input_search_keyword",e)},expression:"brdOpts.input_search_keyword"}})],1)]),e("div",{staticClass:"content"},[e("div",{staticClass:"ui_brd"},[e("div",{staticClass:"infos"},[e("div",{staticClass:"lc"},[e("div",{staticClass:"page_info"},[e("span",[t._v("총 "),e("strong",[t._v(t._s(t.getBrdDatas.length.lengthLimitComma(0)))]),t._v(" 건")])])]),e("div",{staticClass:"rc"},[e("comp-filter-grp",{attrs:{pos:"BR"},scopedSlots:t._u([{key:"custom",fn:function(){return[e("comp-button",{staticClass:"is-small is-icon-only"},[e("span",{staticClass:"icon"},[t._v("")])])]},proxy:!0},{key:"items",fn:function(){return[e("dl",[e("dt",[e("strong",[t._v("노출필드")]),e("comp-button",{staticClass:"is-small is-icon-only",staticStyle:{"margin-left":"4px"},on:{click:t.resetColOpts}},[e("span",{staticClass:"icon"},[t._v("")])])],1),e("dd",t._l(Object.keys(t.getSaveColOpts),(function(s){return e("dl",{key:s},[e("dt",[t._v(t._s(t.colOpts.getParseDatas({code:s})[0]?.name))]),e("dd",[e("comp-switch-btn",{staticClass:"is-small",attrs:{id:`${s}_switch`},model:{value:t.getSaveColOpts[s],callback:function(e){t.$set(t.getSaveColOpts,s,e)},expression:"getSaveColOpts[item]"}})],1)])})),0)])]},proxy:!0}])})],1)]),e("div",{staticClass:"wrap"},[t.getBrdDatas.length>0?e("virtual-list",{staticClass:"is-vl",attrs:{"data-key":"seq","data-sources":t.getBrdDatas,keeps:60,"data-component":{},"root-tag":"table","header-tag":"thead","wrap-tag":"tbody",pageMode:!0},scopedSlots:t._u([{key:"header",fn:function(){return[e("tr",{style:t.getGridStyle},[t.getSaveColOpts.site_name?e("th",[e("strong",[t._v("매체명")]),e("comp-table-sort",{attrs:{id:"site_name",name:"orderColumn"},model:{value:t.brdOpts.order,callback:function(e){t.$set(t.brdOpts,"order",e)},expression:"brdOpts.order"}})],1):t._e(),t.getSaveColOpts.sns_seq?e("th",[e("comp-table-filter",{attrs:{id:"table_filter_sns_seq",name:"SNS 계정",opts:t.getSnsMasetList,multi:!0,labelVisibleNum:1},model:{value:t.tableFilter.sns_seq,callback:function(e){t.$set(t.tableFilter,"sns_seq",e)},expression:"tableFilter.sns_seq"}}),e("comp-table-sort",{attrs:{id:"sns_seq",name:"orderColumn"},model:{value:t.brdOpts.order,callback:function(e){t.$set(t.brdOpts,"order",e)},expression:"brdOpts.order"}})],1):t._e(),t.getSaveColOpts.url?e("th",[e("strong",[t._v("URL")])]):t._e(),t.getSaveColOpts.reg_dt?e("th",[e("strong",[t._v("등록일")]),e("comp-table-sort",{attrs:{id:"reg_dt",name:"orderColumn"},model:{value:t.brdOpts.order,callback:function(e){t.$set(t.brdOpts,"order",e)},expression:"brdOpts.order"}})],1):t._e(),e("th",[e("strong",[t._v("삭제")])])])]},proxy:!0},{key:"item",fn:function({item:s}){return[e("tr",{class:{"is-selected":t.editItem?.seq===s.seq},style:t.getGridStyle,on:{click:function(e){return t.setEditItem(s)}}},[t.getSaveColOpts.site_name?e("td",[t.brdOpts.search_keyword?e("strong",{domProps:{innerHTML:t._s(t.parseHighlightWords(s.site_name))}}):e("strong",[t._v(t._s(s.site_name))])]):t._e(),t.getSaveColOpts.sns_seq?e("td",[e("span",{staticClass:"ui_fc_dm"},[t._v(t._s(t.getSnsMasetList.getParseDatas({code:s.sns_seq})[0].name))])]):t._e(),t.getSaveColOpts.url?e("td",{staticClass:"ui_al"},[e("a",{staticClass:"ui_lnk",attrs:{href:s.url,target:"_blank"}},[t._v(t._s(s.url))])]):t._e(),t.getSaveColOpts.reg_dt?e("td",[e("span",{staticClass:"ui_fc_dm"},[t._v(t._s(s.reg_dt.dateToStr()))])]):t._e(),e("td",[e("comp-button",{staticClass:"is-xsmall is-icon-only",on:{click:function(e){return e.stopPropagation(),t.evt_remove(s.seq)}}},[e("span",{staticClass:"icon"},[t._v("")])])],1)])]}}],null,!1,749020425)}):e("table",[e("tbody",[t._l(Math.floor(4.5),(function(s){return e("tr",{key:`empty_t${s}`,staticClass:"is-no-over"},[e("td",{staticClass:"is-no-over",attrs:{colspan:t.getColCnt}})])})),e("tr",{staticClass:"is-no-over"},[e("td",{staticClass:"is-no-over no_data in_list",attrs:{colspan:t.getColCnt}},[e("span",{staticClass:"ui_no_data_txt"},[t._v("데이터가 없습니다.")])])]),t._l(Math.ceil(4.5),(function(s){return e("tr",{key:`empty_b${s}`,staticClass:"is-no-over"},[e("td",{staticClass:"is-no-over",attrs:{colspan:t.getColCnt}})])}))],2)])],1)])])])},a=[],r=s(8194),n=(s(2231),s(5846),{name:"snsacount-list",data(){return{loading:!1,brdOpts:{input_search_keyword:"",search_keyword:"",order:"reg_dt^D"},colOpts:[{code:"site_name",name:"매체명"},{code:"sns_seq",name:"SNS 계정"},{code:"url",name:"URL"},{code:"reg_dt",name:"등록일"}],tableFilter:{sns_seq:""}}},components:{},props:{savePersonalization:{type:Object},dataList:{type:Array,required:!0},dataSet:{type:Object,default:null,required:!0},editItem:{type:Object}},computed:{...(0,r.Se)(["getUseageLNB"]),getSavePersonalization:{get(){return this.savePersonalization},set(t){this.$emit("update:savePersonalization",t)}},getSaveColOpts(){return this.getSavePersonalization?.main?.data_list?.colOpts},getColCnt(){return Object.values(this.getSaveColOpts).filter((t=>t)).length+1},getBrdDatas(){const t=this.dataList.filter((t=>t.site_name.indexOf(this.brdOpts.search_keyword)>=0)),e=this.getSnsMasetList.getParseDatas({code:this.tableFilter.sns_seq}).arrObjAttrToStr("code").split(",").map(Number),s=t.filter((t=>e.includes(parseInt(t.sns_seq)))),i=this.brdOpts.order.split("^");return s.sort(((t,e)=>{const s=t[i[0]],a=e[i[0]];if("D"===i[1]){if(s<a)return 1;if(s===a)return 0;if(s>a)return-1}else if("A"===i[1]){if(s>a)return 1;if(s===a)return 0;if(s<a)return-1}})),s},getSnsMasetList(){return this.dataSet.snsMaster},getGridStyle(){return{"grid-template-columns":`${this.getSaveColOpts?.site_name?"16%":""} ${this.getSaveColOpts?.sns_seq?"16%":""} ${this.getSaveColOpts?.url?"auto":""} ${this.getSaveColOpts?.reg_dt?"140px":""} 40px`}}},mounted(){this.tableFilter.sns_seq=this.dataSet.snsMaster?this.dataSet.snsMaster.arrObjAttrToStr("code"):""},methods:{clickRegist(){document.querySelector("aside").classList.contains("is-closed")&&document.querySelector(".resizer button").click(),this.setEditItem({})},resetColOpts(){Object.keys(this.getSaveColOpts).forEach((t=>{this.getSaveColOpts[t]=!0}))},setEditItem(t){Object.keys(t).length&&JSON.stringify(t)===JSON.stringify(this.editItem)?this.$emit("update:editItem",{}):this.$emit("update:editItem",t)},searchKeyword(){this.brdOpts.input_search_keyword=this.brdOpts.input_search_keyword.trim(),this.brdOpts.search_keyword=this.brdOpts.input_search_keyword},parseHighlightWords(t){const e=this.brdOpts.search_keyword;if(e.trim().length&&t){const s=new RegExp(e,"gi");t=String(t).replace(s,(t=>`<span class="is-hl-inputkeyword">${t}</span>`))}return t||""},evt_remove(t){this.$emit("update",{type:"d",seq:t})}}});const o={};var l=n,c=s(3483),d=(0,c.Z)(l,i,a,!1,null,"362d01c5",null),p=d.exports},8482:function(t,e,s){s.d(e,{a:function(){return r}});var i=s(1809),a=s(7693);function r(t,e){const s=(0,a.dD)("/api/admin/common/?cmd=CS",e);return(0,i.Z)({id:t,url:s.path,method:"post",data:s.data})}},7190:function(t,e,s){s.d(e,{S:function(){return o},U:function(){return n}});var i=s(1809),a=s(8943),r=s(7693);function n(t,e){const s=(0,r.dD)("/api/admin/keyword/?cmd=GL",e);return(0,i.Z)({id:t,url:s.path,method:"post",data:(0,a.y)(s.data,"GL")})}function o(t,e){const s=(0,r.dD)("/api/admin/keyword/?cmd=GM",e);return(0,i.Z)({id:t,url:s.path,method:"post",data:(0,a.y)(s.data,"GM")})}},329:function(t,e,s){s.d(e,{M:function(){return o},R:function(){return n}});var i=s(1809),a=s(8943),r=s(7693);function n(t,e){const s=(0,r.dD)("/api/admin/keyword/?cmd=KL",e);return(0,i.Z)({id:t,url:s.path,method:"post",data:(0,a.y)(s.data,"KL")})}function o(t,e){const s=(0,r.dD)("/api/admin/keyword/?cmd=KM",e);return(0,i.Z)({id:t,url:s.path,method:"post",data:(0,a.y)(s.data,"KM")})}},7186:function(t,e,s){s.d(e,{F_:function(){return n},pQ:function(){return o},wf:function(){return l}});var i=s(1809),a=s(8943),r=s(7693);function n(t,e){const s=(0,r.dD)("/api/admin/member/?cmd=ML",e);return(0,i.Z)({id:t,url:s.path,method:"post",data:(0,a.y)(s.data,"ML")})}function o(t,e){const s=(0,r.dD)("/api/admin/member/?cmd=MM",e);return(0,i.Z)({id:t,url:s.path,method:"post",data:(0,a.y)(s.data,"MM")})}function l(t,e){const s=(0,r.dD)("/api/admin/member/?cmd=MD",e);return(0,i.Z)({id:t,url:s.path,method:"post",data:(0,a.y)(s.data,"MD")})}},7965:function(t,e,s){s.d(e,{Sj:function(){return l},U7:function(){return o},c3:function(){return n},sv:function(){return r}});var i=s(1809),a=s(7693);function r(t,e){const s=(0,a.dD)("/api/admin/site/?cmd=SL",e);return(0,i.Z)({id:t,url:s.path,method:"post",data:s.data})}function n(t,e){const s=(0,a.dD)("/api/admin/site/?cmd=SM",e);return(0,i.Z)({id:t,url:s.path,method:"post",data:s.data})}function o(t,e){const s=(0,a.dD)("/api/admin/site/?cmd=GL",e);return(0,i.Z)({id:t,url:s.path,method:"post",data:s.data})}function l(t,e){const s=(0,a.dD)("/api/admin/site/?cmd=GM",e);return(0,i.Z)({id:t,url:s.path,method:"post",data:s.data})}},8943:function(t,e,s){s.d(e,{y:function(){return i}});s(6009);const i=(t,e)=>{const s={...t};let i=[];switch(e){case"CG":i=["cmm_type"];break;case"CS":i=["type","level","seq","cmm_type","code","name","color"];break;case"GM":i=["level","type","xp","yp","zp","k_seq","name","sg_seqs","use_yn"];break;case"KL":i=["xp","yp","zp","search_type","search_keyword","order","op","ts","use_yn","page_num","row_limit"];break;case"KM":i=["level","type","xp","yp","zp","k_seq","name","op","op_len_before","op_len_after","ts","tsc","use_yn","sg_seqs","expt_k_seq"];break;case"MM":i=["type","seq","user_grp","id","password","name","rank","dept","mobile","email"];break;case"MD":i=["id"];break}return Object.keys(s).forEach((t=>{i.includes(t)||"user_no"===t||"cmd"===t||delete s[t];const a=["xp","yp","zp","op","ts","tsc","level","search_type","row_limit","op_len_before","op_len_after"];if(a.includes(t)){if("KL"===e&&("op"===t||"ts"===t))return;s[t]=Number(s[t])}"k_seq"===t&&(s.k_seq=String(s.k_seq))})),s}},7693:function(t,e,s){s.d(e,{AP:function(){return n},dD:function(){return o},e_:function(){return r}});s(823),s(5791);var i=s(2568),a=s.n(i);const r=t=>t.replace(/\s/g,'<span class="ui_keyword_space">∨</span>'),n=t=>{let e=t.name;return e&&(e=e.replaceAll(/\n+(?=\n)/g,""),2===t.tsc&&(e=e.replaceAll(/[',|@#$%^*[\](){}‘’<>"+-./:=?_`´~§±·!&/]/g,""))),e},o=(t,e)=>{const s=t.split("?"),i=e?structuredClone(e):{},r={data:i,path:""+t};return s.length>1&&(r.path=""+s[0],r.data=a()(i,s[1].queryStrToJson())),r}}}]);