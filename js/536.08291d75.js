"use strict";(self["webpackChunk_cjmia_dashboard"]=self["webpackChunk_cjmia_dashboard"]||[]).push([[536],{7536:function(t,e,i){i.r(e),i.d(e,{default:function(){return c}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"appContainerWrap"},[e("div",{staticClass:"page-login",attrs:{id:"container"}},[e("div",{attrs:{id:"content"}},[e("div",{staticClass:"login"},[e("form",{ref:"frm_login",staticClass:"wrap",attrs:{method:"post",action:"../layout/layout.jsp"}},[e("h2",{attrs:{id:"page_title"}},[t._v("Member Login")]),e("div",{staticClass:"inputs"},[e("div",{staticClass:"id"},[e("strong",{staticClass:"title"},[t._v("ID")]),e("comp-input-box",{ref:"inputbox_id",staticClass:"is-xlarge is-wid100p",attrs:{id:"inputbox_id",label:"ID 입력","disabled-reset":""},on:{keyup:t.hndl_login},model:{value:t.memberInfo.id,callback:function(e){t.$set(t.memberInfo,"id",e)},expression:"memberInfo.id"}})],1),e("div",{staticClass:"pw"},[e("strong",{staticClass:"title"},[t._v("PW")]),e("comp-input-box",{ref:"inputbox_pw",staticClass:"is-xlarge is-wid100p",attrs:{type:"password",id:"inputbox_pw",label:"PW 입력"},on:{keyup:t.hndl_login},model:{value:t.memberInfo.pw,callback:function(e){t.$set(t.memberInfo,"pw",e)},expression:"memberInfo.pw"}})],1),e("div",{staticClass:"result"},[t._v(t._s(t.validateMsg))])]),e("div",{staticClass:"btns"},[e("button",{ref:"btnLogin",staticClass:"ui_btn is-color-hl is-xlarge is-wid100p",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.hndl_login.apply(null,arguments)}}},[e("strong",{staticClass:"txt"},[t._v("Login")])])])])])])])])},a=[],n=(i(4936),i(7348),i(2803),i(6009)),r={name:"LoginPage",data(){return{memberInfo:{id:"",pw:"",ignrPusr:!1},isDialogOpen:!1,btnDisabled:!0,validateMsg:""}},created(){((0,n.hP)()||(0,n.YV)()||(0,n.Mf)())&&(this.$store.commit("user/SET_ACCESS_TOKEN",""),this.$store.commit("user/SET_REFRESH_TOKEN",""),this.$store.commit("user/SET_IS_PWD_CERTIFY",""),(0,n.yL)(),(0,n.z_)(),(0,n.DF)(),(0,n.pI)()),this.$store.commit("setting/SET_SCROLL_POSITION_Y",""),(0,n.Yk)()},mounted(){this.$nextTick((()=>{const t=new MouseEvent("click",{bubbles:!0,cancelable:!0});document.querySelector("#wrap").dispatchEvent(t)}))},watch:{memberInfo:{deep:!0,handler:function(t){t.id.trim().length&&t.pw.trim().length?this.btnDisabled=!1:this.btnDisabled=!0,this.validateMsg=""}}},methods:{validate(){return""==this.memberInfo.id.trim()?(this.validateMsg="ID가 입력되지 않았습니다.",!1):""==this.memberInfo.pw.trim()?(this.validateMsg="비밀번호가 입력되지 않았습니다.",!1):!(this.memberInfo.pw.trim().length<parseInt("4"))||(this.validateMsg="비밀번호 양식이 맞지 않습니다.",!1)},async hndl_login(){this.validate()&&await this.$store.dispatch("user/LOGIN",{id:this.memberInfo.id,pw:this.memberInfo.pw,ignrPusr:this.memberInfo.ignrPusr}).then((t=>{if((0,n.hP)())this.$router.push({path:"/view/admin/keyword"}).catch((()=>{}));else{document.querySelector("#inputbox_id").blur(),document.querySelector("#inputbox_pw").blur();let e="";(-2==t.data.error_code||-3==t.data.error_code||-4==t.data.error_code)&&(e="아이디 또는 비밀번호가 잘못 되었습니다."),this.validateMsg=e}})).catch((t=>{document.querySelector("#inputbox_id").blur(),document.querySelector("#inputbox_pw").blur(),"300"==t.response.status&&this.$store.dispatch("DIALOG_WRN",["동일 아이디 사용자가 존재합니다.<br/>기존 사용자를 강제 로그아웃 후 로그인하시겠습니까?","",2]).then((t=>{this.memberInfo.ignrPusr=!0,this.hndl_login()})).catch((t=>{this.memberInfo.ignrPusr=!1}))}))}}},o=r,l=i(3483),d=(0,l.Z)(o,s,a,!1,null,null,null),c=d.exports}}]);